(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{1631:function(e,t,s){Promise.resolve().then(s.bind(s,4069))},4069:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return z}});var r=s(7437),a=s(4934),n=s(6463),l=s(6359),o=s(7440),i=s(3196),d=s(4817),c=s(4258),u=s(6273),m=s(2873),f=s(2265),x=s(750),p=s(8244),h=s(3458),N=s(4458);let j=f.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(N.fC,{ref:t,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...a})});j.displayName=N.fC.displayName;let v=f.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(N.Ee,{ref:t,className:(0,o.cn)("aspect-square h-full w-full",s),...a})});v.displayName=N.Ee.displayName,f.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(N.NY,{ref:t,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...a})}).displayName=N.NY.displayName;var y=s(6910);let g=()=>{let{user:e}=(0,h.aF)();return(0,r.jsxs)(y.h_,{children:[(0,r.jsx)(y.$F,{asChild:!0,children:(0,r.jsxs)("div",{role:"button",className:"flex item-center text-sm p-3 w-full hover:bg-primary/5",children:[(0,r.jsxs)("div",{className:"gap-x-2 flex items-center max-w-[150px]",children:[(0,r.jsx)(j,{className:"h-5 w-5",children:(0,r.jsx)(v,{src:null==e?void 0:e.imageUrl})}),(0,r.jsxs)("span",{className:"text-start font-medium line-clamp-1",children:[null==e?void 0:e.fullName,"'s Scribblix"]})]}),(0,r.jsx)(p.Z,{className:"rotate-90 ml-2 text-muted-foreground h-4 w-4"})]})}),(0,r.jsxs)(y.AW,{className:"w-80",align:"start",alignOffset:11,forceMount:!0,children:[(0,r.jsxs)("div",{className:"flex flex-col space-y-4 p-2",children:[(0,r.jsx)("p",{className:"text-xs font-medium leading-none text-muted-foreground",children:null==e?void 0:e.emailAddresses[0].emailAddress}),(0,r.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,r.jsx)("div",{className:"rounded-md bg-secondary p-1",children:(0,r.jsx)(j,{className:"h-8 w-8 ",children:(0,r.jsx)(v,{src:null==e?void 0:e.imageUrl})})}),(0,r.jsx)("div",{className:"space-y-1",children:(0,r.jsxs)("p",{className:"text-sm line-clamp-1",children:[null==e?void 0:e.fullName,"'s Scribblix"]})})]})]}),(0,r.jsx)(y.VD,{}),(0,r.jsx)(y.Xi,{className:"w-full cursor-auto text-muted-foreground",asChild:!0,children:(0,r.jsx)(h.AM,{children:"Log Out"})})]})]})};var w=s(9253),b=s(2421),k=s(7592);let C=e=>{let{id:t,label:s,onClick:a,icon:n,active:l,documentIcon:i,isSearch:d,level:c=0,onExpand:u,expanded:m}=e,f=m?b.Z:k.Z;return(0,r.jsxs)("div",{onClick:a,role:"button",style:{paddingLeft:c?"${(level * 12) + 12}px":"12px"},className:(0,o.cn)("group min-h-[27px] text-sm py-1 pr-3 w-full hover:bg-primary/5 flex items-center text-muted-foreground font-medium",l&&"bg-primary/5 text-primary"),children:[!!t&&(0,r.jsx)("div",{role:"button",className:"h-full rounded-sm hover:bg-neutral-300 dark:bg-neutral-600 mr-1",onClick:()=>{},children:(0,r.jsx)(f,{className:"h-4 w-4 shrink-0 text-muted-foreground/50"})}),i?(0,r.jsx)("div",{className:"shrink-0 mr-2 text-[18px]",children:i}):(0,r.jsx)(n,{className:"shrink-0 h-[18px] mr-2 text-muted-foreground"}),(0,r.jsx)("span",{className:"truncate",children:s}),d&&(0,r.jsxs)("kbd",{className:"ml-auto pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[(0,r.jsx)("span",{className:"text-xs",children:"âŒ˜"}),"K"]})]})};var R=s(7776);let Z=()=>{let e=(0,n.usePathname)(),t=(0,x.ac)("(max-width: 768px)"),s=(0,a.aM)(w.h.documents.get),l=(0,a.Db)(w.h.documents.create),p=(0,f.useRef)(!1),h=(0,f.useRef)(null),N=(0,f.useRef)(null),[j,v]=(0,f.useState)(!1),[y,b]=(0,f.useState)(t);(0,f.useEffect)(()=>{t?_():z()},[t]),(0,f.useEffect)(()=>{t&&_()},[e,t]);let k=e=>{if(!p.current)return;let t=e.clientX;t<240&&(t=240),t>480&&(t=480),h.current&&N.current&&(h.current.style.width="".concat(t,"px"),N.current.style.setProperty("left","".concat(t,"px")),N.current.style.setProperty("width","calc(100% - ".concat(t,"px)")))},Z=()=>{p.current=!1,document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",Z)},z=()=>{h.current&&N.current&&(b(!1),v(!1),h.current.style.width=t?"100%":"240px",N.current.style.setProperty("width",t?"0":"calc(100% - 240px)"),N.current.style.setProperty("left",t?"100%":"240px"),setTimeout(()=>v(!1),300))},_=()=>{h.current&&N.current&&(b(!0),v(!0),h.current.style.width="0",N.current.style.setProperty("width","100%"),N.current.style.setProperty("left","0"),setTimeout(()=>v(!1),300))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("aside",{ref:h,className:(0,o.cn)("group/sidebar h-full bg-secondary overflow-y-auto relative flex w-60 flex-col z-[99999]",j&&"transition-all ease-in-out duration-300",t&&"w-0"),children:[(0,r.jsx)("div",{onClick:_,role:"button",className:(0,o.cn)("h-6 w-6 text-muted-foreground rounded-small hover:bg-neutral-300 dark:hover:bg-neutral-600 absolute top-3 right-2 opacity-0 group-hover/sidebar:opacity-100 transition",t&&"opacity-100"),children:(0,r.jsx)(i.Z,{className:"h-6 w-6"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(g,{}),(0,r.jsx)(C,{label:"Search",icon:d.Z,isSearch:!0,onClick:()=>{}}),(0,r.jsx)(C,{label:"Settings",icon:c.Z,onClick:()=>{}}),(0,r.jsx)(C,{onClick:()=>{let e=l({title:"Untitled"});R.A.promise(e,{loading:"Creating a new note...",success:"New note created!",error:"Failed to create a new note."})},label:"New Page",icon:u.Z})]}),(0,r.jsx)("div",{className:"mt-4",children:null==s?void 0:s.map(e=>(0,r.jsx)("p",{children:e.title},e._id))}),(0,r.jsx)("div",{onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),p.current=!0,document.addEventListener("mousemove",k),document.addEventListener("mouseup",Z)},onClick:z,className:"opacity-0 group-hover/sidebar:opacity-100 transition cursor-ew-resize absolute h-full w-1 bg-primary/10 right-0 top-0"})]}),(0,r.jsx)("div",{ref:N,className:(0,o.cn)("absolute top-0 z-[99999] left-60 w-[calc(100%-240px)]",j&&"transition-all ease-in-out duration-300",t&&"left-0 w-full"),children:(0,r.jsx)("nav",{className:"bg-transparent px-3 py-2 w-full",children:y&&(0,r.jsx)(m.Z,{onClick:z,className:"h-6 w-6 text-muted-foreground",role:"button"})})})]})};var z=e=>{let{children:t}=e,{isAuthenticated:s,isLoading:o}=(0,a.mK)();return o?(0,r.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,r.jsx)(l.$,{size:"lg"})}):s?(0,r.jsxs)("div",{className:"h-full flex dark:bg-[#1F1F1F]",children:[(0,r.jsx)(Z,{}),(0,r.jsx)("main",{className:"flex-1 h-full overflow-y-auto",children:t})]}):(0,n.redirect)("/")}},6359:function(e,t,s){"use strict";s.d(t,{$:function(){return i}});var r=s(7437),a=s(9627),n=s(2218),l=s(7440);let o=(0,n.j)("text-muted-foreground animate-spin",{variants:{size:{default:"w-4 h-4",sm:"w-2 h-2",lg:"w-6 h-6",icon:"w-10 h-10"}},defaultVariants:{size:"default"}}),i=e=>{let{size:t}=e;return(0,r.jsx)(a.Z,{className:(0,l.cn)(o({size:t}))})}},6910:function(e,t,s){"use strict";s.d(t,{$F:function(){return u},AW:function(){return m},VD:function(){return x},Xi:function(){return f},h_:function(){return c}});var r=s(7437),a=s(2265),n=s(9789),l=s(7592),o=s(2468),i=s(8165),d=s(7440);let c=n.fC,u=n.xz;n.ZA,n.Uv,n.Tr,n.Ee,a.forwardRef((e,t)=>{let{className:s,inset:a,children:o,...i}=e;return(0,r.jsxs)(n.fF,{ref:t,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a&&"pl-8",s),...i,children:[o,(0,r.jsx)(l.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=n.fF.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.tu,{ref:t,className:(0,d.cn)("z-[9999] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a})}).displayName=n.tu.displayName;let m=a.forwardRef((e,t)=>{let{className:s,sideOffset:a=4,...l}=e;return(0,r.jsx)(n.Uv,{children:(0,r.jsx)(n.VY,{ref:t,sideOffset:a,className:(0,d.cn)("z-[99999] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})})});m.displayName=n.VY.displayName;let f=a.forwardRef((e,t)=>{let{className:s,inset:a,...l}=e;return(0,r.jsx)(n.ck,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",s),...l})});f.displayName=n.ck.displayName,a.forwardRef((e,t)=>{let{className:s,children:a,checked:l,...i}=e;return(0,r.jsxs)(n.oC,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:l,...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.wU,{children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})}),a]})}).displayName=n.oC.displayName,a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsxs)(n.Rk,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.wU,{children:(0,r.jsx)(i.Z,{className:"h-2 w-2 fill-current"})})}),a]})}).displayName=n.Rk.displayName,a.forwardRef((e,t)=>{let{className:s,inset:a,...l}=e;return(0,r.jsx)(n.__,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",s),...l})}).displayName=n.__.displayName;let x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...a})});x.displayName=n.Z0.displayName},9253:function(e,t,s){"use strict";s.d(t,{h:function(){return r}});let r=s(2289).qL},7440:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var r=s(4839),a=s(6164);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}}},function(e){e.O(0,[34,950,776,31,393,764,971,23,744],function(){return e(e.s=1631)}),_N_E=e.O()}]);