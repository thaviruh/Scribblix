(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34],{3458:function(e,t,r){"use strict";let n,i,s;r.d(t,{El:function(){return ty},$d:function(){return tz},AM:function(){return tV},l8:function(){return tI},aC:function(){return tB},aF:function(){return tN}});var o,a,u,l,c,h,d={};r.r(d),r.d(d,{SWRConfig:function(){return eX},default:function(){return eZ},mutate:function(){return e$},preload:function(){return eW},unstable_serialize:function(){return eK},useSWRConfig:function(){return eB}}),r(1143);var f=e=>"undefined"!=typeof atob&&"function"==typeof atob?atob(e):"undefined"!=typeof global&&global.Buffer?new global.Buffer(e,"base64").toString():e,p="pk_live_";function g(e){if(!m(e=e||""))return null;let t=e.startsWith(p)?"production":"development",r=f(e.split("_")[2]);return r.endsWith("$")?{instanceType:t,frontendApi:r=r.slice(0,-1)}:null}function m(e){let t=(e=e||"").startsWith(p)||e.startsWith("pk_test_"),r=f(e.split("_")[2]||"").endsWith("$");return t&&r}var y=Object.defineProperty,v=Object.getOwnPropertyDescriptor,k=Object.getOwnPropertyNames,w=Object.prototype.hasOwnProperty,b=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of k(t))w.call(e,i)||i===r||y(e,i,{get:()=>t[i],enumerable:!(n=v(t,i))||n.enumerable});return e},S=r(2265),C=()=>!1,O=()=>!1,E=()=>{try{return!0}catch(e){}return!1},R=new Set,A=(e,t,r)=>{let n=O()||E(),i=null!=r?r:e;R.has(i)||n||(R.add(i),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))};new Proxy({Expired:"expired",Failed:"failed"},{get:(e,t,r)=>(A("MagicLinkErrorCode","Use `EmailLinkErrorCode` instead."),Reflect.get(e,t,r))});var P=Object.freeze({InvalidFrontendApiErrorMessage:"The frontendApi passed to Clerk is invalid. You can get your Frontend API key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys."});let j=e=>`Clerk: You've passed multiple children components to <${e}/>. You can only pass a single child component or text.`,T="Clerk: Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",_=e=>`Clerk: <${e} /> can only accept <${e}.Page /> and <${e}.Link /> as its children. Any other provided component will be ignored.`,M=e=>`Clerk: Missing props. <${e}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,I=e=>`Clerk: Missing props. <${e}.Link /> component requires the following props: url, label and labelIcon.`,q=function({packageName:e,customMessages:t}){let r=e,n={...P,...t};function i(e,t){if(!t)return`${r}: ${e}`;let n=e;for(let r of e.matchAll(/{{([a-zA-Z0-9-_]+)}}/g)){let e=(t[r[1]]||"").toString();n=n.replace(`{{${r[1]}}}`,e)}return`${r}: ${n}`}return{setPackageName({packageName:e}){return"string"==typeof e&&(r=e),this},setMessages({customMessages:e}){return Object.assign(n,e||{}),this},throwInvalidPublishableKeyError(e){throw Error(i(n.InvalidPublishableKeyErrorMessage,e))},throwInvalidFrontendApiError(e){throw Error(i(n.InvalidFrontendApiErrorMessage,e))},throwInvalidProxyUrl(e){throw Error(i(n.InvalidProxyUrlErrorMessage,e))},throwMissingPublishableKeyError(){throw Error(i(n.MissingPublishableKeyErrorMessage))}}}({packageName:"@clerk/react"}),x=new Map;var U=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},L=(e,t,r)=>(U(e,t,"read from private field"),r?r.call(e):t.get(e)),$=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},z=(e,t,r,n)=>(U(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);function V(){return"undefined"!=typeof window}function N(e,t,r){return"function"==typeof e?e(t):void 0!==e?e:void 0!==r?r:void 0}async function Q(e="",t){let{async:r,defer:n,beforeLoad:i,crossOrigin:s}=t||{};return new Promise((t,o)=>{e||o("loadScript cannot be called without a src"),document&&document.body||o("loadScript cannot be called when document does not exist");let a=document.createElement("script");s&&a.setAttribute("crossorigin",s),a.async=r||!1,a.defer=n||!1,a.addEventListener("load",()=>{a.remove(),t(a)}),a.addEventListener("error",()=>{a.remove(),o()}),a.src=e,null==i||i(a),document.body.appendChild(a)})}function D(e){return e.startsWith("/")}RegExp("bot|spider|crawl|APIs-Google|AdsBot|Googlebot|mediapartners|Google Favicon|FeedFetcher|Google-Read-Aloud|DuplexWeb-Google|googleweblight|bing|yandex|baidu|duckduck|yahoo|ecosia|ia_archiver|facebook|instagram|pinterest|reddit|slack|twitter|whatsapp|youtube|semrush","i");let{isDevOrStagingUrl:F}=function(){let e=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],t=new Map;return{isDevOrStagingUrl:r=>{if(!r)return!1;let n="string"==typeof r?r:r.hostname,i=t.get(n);return void 0===i&&(i=e.some(e=>n.endsWith(e)),t.set(n,i)),i}}}(),B=e=>{if(e)return e;let t=W("4.31.1");return t?"snapshot"===t?"4.72.2":t:J("4.31.1")},W=e=>{var t;return null==(t=e.match(/-(.*)\./))?void 0:t[1]},J=e=>e.split(".")[0],G=e=>{let{frontendApi:t,publishableKey:r}=e;return r||t||q.throwMissingPublishableKeyError(),Q(K(e),{async:!0,crossOrigin:"anonymous",beforeLoad:H(e)}).catch(()=>{throw Error("Clerk: Failed to load Clerk")})},K=e=>{var t,r;let{clerkJSUrl:n,clerkJSVariant:i,clerkJSVersion:s,proxyUrl:o,domain:a,publishableKey:u,frontendApi:l}=e;if(n)return n;let c="";c=o&&(!o||/^http(s)?:\/\//.test(o||"")||D(o))?(o?D(o)?new URL(o,window.location.origin).toString():o:"").replace(/http(s)?:\/\//,""):a&&!F((null==(t=g(u))?void 0:t.frontendApi)||l||"")?function(e){let t;if(!e)return"";if(e.match(/^(clerk\.)+\w*$/))t=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;t=/^(clerk\.)*/gi}let r=e.replace(t,"");return`clerk.${r}`}(a):(null==(r=g(u))?void 0:r.frontendApi)||l||"";let h=i?`${i.replace(/\.+$/,"")}.`:"",d=B(s);return`https://${c}/npm/@clerk/clerk-js@${d}/dist/clerk.${h}browser.js`},H=e=>t=>{let{publishableKey:r,frontendApi:n,proxyUrl:i,domain:s}=e;r?t.setAttribute("data-clerk-publishable-key",r):n&&t.setAttribute("data-clerk-frontend-api",n),i&&t.setAttribute("data-clerk-proxy-url",i),s&&t.setAttribute("data-clerk-domain",s)},Y=class e{constructor(e){this.clerkjs=null,this.preopenSignIn=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.loadedListeners=[],$(this,o,!1),$(this,a,void 0),$(this,u,void 0),$(this,l,void 0),$(this,c,void 0),this.isReady=()=>{var e;return!!(null==(e=this.clerkjs)?void 0:e.isReady())},this.buildSignInUrl=e=>{let t=()=>{var t;return(null==(t=this.clerkjs)?void 0:t.buildSignInUrl(e))||""};if(this.clerkjs&&L(this,o))return t();this.premountMethodCalls.set("buildSignInUrl",t)},this.buildSignUpUrl=e=>{let t=()=>{var t;return(null==(t=this.clerkjs)?void 0:t.buildSignUpUrl(e))||""};if(this.clerkjs&&L(this,o))return t();this.premountMethodCalls.set("buildSignUpUrl",t)},this.buildUserProfileUrl=()=>{let e=()=>{var e;return(null==(e=this.clerkjs)?void 0:e.buildUserProfileUrl())||""};if(this.clerkjs&&L(this,o))return e();this.premountMethodCalls.set("buildUserProfileUrl",e)},this.buildCreateOrganizationUrl=()=>{let e=()=>{var e;return(null==(e=this.clerkjs)?void 0:e.buildCreateOrganizationUrl())||""};if(this.clerkjs&&L(this,o))return e();this.premountMethodCalls.set("buildCreateOrganizationUrl",e)},this.buildOrganizationProfileUrl=()=>{let e=()=>{var e;return(null==(e=this.clerkjs)?void 0:e.buildOrganizationProfileUrl())||""};if(this.clerkjs&&L(this,o))return e();this.premountMethodCalls.set("buildOrganizationProfileUrl",e)},this.buildHomeUrl=()=>{let e=()=>{var e;return(null==(e=this.clerkjs)?void 0:e.buildHomeUrl())||""};if(this.clerkjs&&L(this,o))return e();this.premountMethodCalls.set("buildHomeUrl",e)},this.buildUrlWithAuth=e=>{let t=()=>{var t;return(null==(t=this.clerkjs)?void 0:t.buildUrlWithAuth(e))||""};if(this.clerkjs&&L(this,o))return t();this.premountMethodCalls.set("buildUrlWithAuth",t)},this.handleUnauthenticated=()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.handleUnauthenticated()};this.clerkjs&&L(this,o)?e():this.premountMethodCalls.set("handleUnauthenticated",e)},this.addOnLoaded=e=>{this.loadedListeners.push(e),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(e=>e()),this.loadedListeners=[]},this.hydrateClerkJS=e=>{if(!e)throw Error("Failed to hydrate latest Clerk JS");return this.clerkjs=e,this.premountMethodCalls.forEach(e=>e()),null!==this.preopenSignIn&&e.openSignIn(this.preopenSignIn),null!==this.preopenSignUp&&e.openSignUp(this.preopenSignUp),null!==this.preopenUserProfile&&e.openUserProfile(this.preopenUserProfile),null!==this.preopenOrganizationProfile&&e.openOrganizationProfile(this.preopenOrganizationProfile),null!==this.preopenCreateOrganization&&e.openCreateOrganization(this.preopenCreateOrganization),this.premountSignInNodes.forEach((t,r)=>{e.mountSignIn(r,t)}),this.premountSignUpNodes.forEach((t,r)=>{e.mountSignUp(r,t)}),this.premountUserProfileNodes.forEach((t,r)=>{e.mountUserProfile(r,t)}),this.premountUserButtonNodes.forEach((t,r)=>{e.mountUserButton(r,t)}),this.premountOrganizationListNodes.forEach((t,r)=>{e.mountOrganizationList(r,t)}),z(this,o,!0),this.emitLoaded(),this.clerkjs},this.__unstable__updateProps=e=>{this.clerkjs&&"__unstable__updateProps"in this.clerkjs&&this.clerkjs.__unstable__updateProps(e)},this.setActive=({session:e,organization:t,beforeEmit:r})=>this.clerkjs?this.clerkjs.setActive({session:e,organization:t,beforeEmit:r}):Promise.reject(),this.setSession=(e,t)=>(A("setSession","Use `Clerk.setActive` instead"),this.setActive({session:e,beforeEmit:t})),this.openSignIn=e=>{this.clerkjs&&L(this,o)?this.clerkjs.openSignIn(e):this.preopenSignIn=e},this.closeSignIn=()=>{this.clerkjs&&L(this,o)?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.openUserProfile=e=>{this.clerkjs&&L(this,o)?this.clerkjs.openUserProfile(e):this.preopenUserProfile=e},this.closeUserProfile=()=>{this.clerkjs&&L(this,o)?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=e=>{this.clerkjs&&L(this,o)?this.clerkjs.openOrganizationProfile(e):this.preopenOrganizationProfile=e},this.closeOrganizationProfile=()=>{this.clerkjs&&L(this,o)?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=e=>{this.clerkjs&&L(this,o)?this.clerkjs.openCreateOrganization(e):this.preopenCreateOrganization=e},this.closeCreateOrganization=()=>{this.clerkjs&&L(this,o)?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openSignUp=e=>{this.clerkjs&&L(this,o)?this.clerkjs.openSignUp(e):this.preopenSignUp=e},this.closeSignUp=()=>{this.clerkjs&&L(this,o)?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(e,t)=>{this.clerkjs&&L(this,o)?this.clerkjs.mountSignIn(e,t):this.premountSignInNodes.set(e,t)},this.unmountSignIn=e=>{this.clerkjs&&L(this,o)?this.clerkjs.unmountSignIn(e):this.premountSignInNodes.delete(e)},this.__experimental_mountGoogleOneTap=(e,t)=>{this.clerkjs&&L(this,o)&&this.clerkjs.__experimental_mountGoogleOneTap(e,t)},this.__experimental_unmountGoogleOneTap=e=>{this.clerkjs&&L(this,o)&&this.clerkjs.__experimental_unmountGoogleOneTap(e)},this.mountSignUp=(e,t)=>{this.clerkjs&&L(this,o)?this.clerkjs.mountSignUp(e,t):this.premountSignUpNodes.set(e,t)},this.unmountSignUp=e=>{this.clerkjs&&L(this,o)?this.clerkjs.unmountSignUp(e):this.premountSignUpNodes.delete(e)},this.mountUserProfile=(e,t)=>{this.clerkjs&&L(this,o)?this.clerkjs.mountUserProfile(e,t):this.premountUserProfileNodes.set(e,t)},this.unmountUserProfile=e=>{this.clerkjs&&L(this,o)?this.clerkjs.unmountUserProfile(e):this.premountUserProfileNodes.delete(e)},this.mountOrganizationProfile=(e,t)=>{this.clerkjs&&L(this,o)?this.clerkjs.mountOrganizationProfile(e,t):this.premountOrganizationProfileNodes.set(e,t)},this.unmountOrganizationProfile=e=>{this.clerkjs&&L(this,o)?this.clerkjs.unmountOrganizationProfile(e):this.premountOrganizationProfileNodes.delete(e)},this.mountCreateOrganization=(e,t)=>{this.clerkjs&&L(this,o)?this.clerkjs.mountCreateOrganization(e,t):this.premountCreateOrganizationNodes.set(e,t)},this.unmountCreateOrganization=e=>{this.clerkjs&&L(this,o)?this.clerkjs.unmountCreateOrganization(e):this.premountCreateOrganizationNodes.delete(e)},this.mountOrganizationSwitcher=(e,t)=>{this.clerkjs&&L(this,o)?this.clerkjs.mountOrganizationSwitcher(e,t):this.premountOrganizationSwitcherNodes.set(e,t)},this.unmountOrganizationSwitcher=e=>{this.clerkjs&&L(this,o)?this.clerkjs.unmountOrganizationSwitcher(e):this.premountOrganizationSwitcherNodes.delete(e)},this.mountOrganizationList=(e,t)=>{this.clerkjs&&L(this,o)?this.clerkjs.mountOrganizationList(e,t):this.premountOrganizationListNodes.set(e,t)},this.unmountOrganizationList=e=>{this.clerkjs&&L(this,o)?this.clerkjs.unmountOrganizationList(e):this.premountOrganizationListNodes.delete(e)},this.mountUserButton=(e,t)=>{this.clerkjs&&L(this,o)?this.clerkjs.mountUserButton(e,t):this.premountUserButtonNodes.set(e,t)},this.unmountUserButton=e=>{this.clerkjs&&L(this,o)?this.clerkjs.unmountUserButton(e):this.premountUserButtonNodes.delete(e)},this.addListener=e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.addListener(e)};return this.clerkjs?t():(this.premountMethodCalls.set("addListener",t),()=>this.premountMethodCalls.delete("addListener"))},this.navigate=e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.navigate(e)};this.clerkjs&&L(this,o)?t():this.premountMethodCalls.set("navigate",t)},this.redirectWithAuth=(...e)=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.redirectWithAuth(...e)};this.clerkjs&&L(this,o)?t():this.premountMethodCalls.set("redirectWithAuth",t)},this.redirectToSignIn=e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.redirectToSignIn(e)};this.clerkjs&&L(this,o)?t():this.premountMethodCalls.set("redirectToSignIn",t)},this.redirectToSignUp=e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.redirectToSignUp(e)};this.clerkjs&&L(this,o)?t():this.premountMethodCalls.set("redirectToSignUp",t)},this.redirectToUserProfile=()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.redirectToUserProfile()};this.clerkjs&&L(this,o)?e():this.premountMethodCalls.set("redirectToUserProfile",e)},this.redirectToHome=()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.redirectToHome()};this.clerkjs&&L(this,o)?e():this.premountMethodCalls.set("redirectToHome",e)},this.redirectToOrganizationProfile=()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.redirectToOrganizationProfile()};this.clerkjs&&L(this,o)?e():this.premountMethodCalls.set("redirectToOrganizationProfile",e)},this.redirectToCreateOrganization=()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.redirectToCreateOrganization()};this.clerkjs&&L(this,o)?e():this.premountMethodCalls.set("redirectToCreateOrganization",e)},this.handleRedirectCallback=e=>{var t;let r=()=>{var t;return null==(t=this.clerkjs)?void 0:t.handleRedirectCallback(e)};this.clerkjs&&L(this,o)?null==(t=r())||t.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",r)},this.handleMagicLinkVerification=async e=>{A("handleMagicLinkVerification","Use `handleEmailLinkVerification` instead.");let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.handleMagicLinkVerification(e)};if(this.clerkjs&&L(this,o))return t();this.premountMethodCalls.set("handleMagicLinkVerification",t)},this.handleEmailLinkVerification=async e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.handleEmailLinkVerification(e)};if(this.clerkjs&&L(this,o))return t();this.premountMethodCalls.set("handleEmailLinkVerification",t)},this.authenticateWithMetamask=async e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.authenticateWithMetamask(e)};if(this.clerkjs&&L(this,o))return t();this.premountMethodCalls.set("authenticateWithMetamask",t)},this.createOrganization=async e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.createOrganization(e)};if(this.clerkjs&&L(this,o))return t();this.premountMethodCalls.set("createOrganization",t)},this.getOrganizationMemberships=async()=>{let e=()=>{var e;return null==(e=this.clerkjs)?void 0:e.getOrganizationMemberships()};if(this.clerkjs&&L(this,o))return e();this.premountMethodCalls.set("getOrganizationMemberships",e)},this.getOrganization=async e=>{let t=()=>{var t;return null==(t=this.clerkjs)?void 0:t.getOrganization(e)};if(this.clerkjs&&L(this,o))return t();this.premountMethodCalls.set("getOrganization",t)},this.signOut=async(e,t)=>{let r=()=>{var r;return null==(r=this.clerkjs)?void 0:r.signOut(e,t)};if(this.clerkjs&&L(this,o))return r();this.premountMethodCalls.set("signOut",r)};let{Clerk:t=null,frontendApi:r,publishableKey:n}=e||{};z(this,l,r),z(this,c,n),z(this,u,null==e?void 0:e.proxyUrl),z(this,a,null==e?void 0:e.domain),this.options=e,this.Clerk=t,this.mode=V()?"browser":"server",this.loadClerkJS()}get publishableKey(){return L(this,c)}get loaded(){return L(this,o)}static getOrCreateInstance(t){return V()&&L(this,h)&&(!t.Clerk||L(this,h).Clerk===t.Clerk)||z(this,h,new e(t)),L(this,h)}static clearInstance(){z(this,h,null)}get domain(){if("undefined"!=typeof window&&window.location)return N(L(this,a),new URL(window.location.href),"");if("function"==typeof L(this,a))throw Error(T);return L(this,a)||""}get proxyUrl(){if("undefined"!=typeof window&&window.location)return N(L(this,u),new URL(window.location.href),"");if("function"==typeof L(this,u))throw Error(T);return L(this,u)||""}get sdkMetadata(){var e;return(null==(e=this.clerkjs)?void 0:e.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var e;return null==(e=this.clerkjs)?void 0:e.instanceType}get frontendApi(){var e;return(null==(e=this.clerkjs)?void 0:e.frontendApi)||L(this,l)||""}get isStandardBrowser(){var e;return(null==(e=this.clerkjs)?void 0:e.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){if("undefined"!=typeof window&&window.location)return N(this.options.isSatellite,new URL(window.location.href),!1);if("function"==typeof this.options.isSatellite)throw Error(T);return!1}async loadClerkJS(){var e,t,n,i;if(!("browser"!==this.mode||L(this,o))){"undefined"!=typeof window&&(window.__clerk_frontend_api=this.frontendApi,window.__clerk_publishable_key=this.publishableKey,window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let e;(i=this.Clerk,"function"==typeof i)?(e=new this.Clerk(this.publishableKey||this.frontendApi||"",{proxyUrl:this.proxyUrl,domain:this.domain}),await e.load(this.options)):(e=this.Clerk).isReady()||await e.load(this.options),r.g.Clerk=e}else{if(r.g.Clerk||await G({...this.options,frontendApi:this.frontendApi,publishableKey:this.publishableKey,proxyUrl:this.proxyUrl,domain:this.domain}),!r.g.Clerk)throw Error("Failed to download latest ClerkJS. Contact support@clerk.com.");await r.g.Clerk.load(this.options)}if(r.g.Clerk.sdkMetadata=null!=(e=this.options.sdkMetadata)?e:{name:"@clerk/clerk-react",version:"4.31.1"},(null==(t=r.g.Clerk)?void 0:t.loaded)||(null==(n=r.g.Clerk)?void 0:n.isReady()))return this.hydrateClerkJS(r.g.Clerk);return}catch(e){console.error(e.stack||e.message||e);return}}}get version(){var e;return null==(e=this.clerkjs)?void 0:e.version}get client(){return this.clerkjs?this.clerkjs.client:void 0}get session(){return this.clerkjs?this.clerkjs.session:void 0}get user(){return this.clerkjs?this.clerkjs.user:void 0}get organization(){return this.clerkjs?this.clerkjs.organization:void 0}get __unstable__environment(){return this.clerkjs?this.clerkjs.__unstable__environment:void 0}__unstable__setEnvironment(...e){this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs&&this.clerkjs.__unstable__setEnvironment(e)}};o=new WeakMap,a=new WeakMap,u=new WeakMap,l=new WeakMap,c=new WeakMap,$(Y,h=new WeakMap,void 0);let X=(e,t,r)=>!e&&r?Z(r):ee(t),Z=e=>{let t=e.userId,r=e.user,n=e.sessionId,i=e.session,s=e.organization,o=e.orgId,a=e.orgRole;return{userId:t,user:r,sessionId:n,session:i,organization:s,orgId:o,orgRole:a,orgPermissions:e.orgPermissions,orgSlug:e.orgSlug,actor:e.actor,lastOrganizationInvitation:null,lastOrganizationMember:null}},ee=e=>{var t;let r=e.user?e.user.id:e.user,n=e.user,i=e.session?e.session.id:e.session,s=e.session,o=null==s?void 0:s.actor,a=e.organization,u=e.organization?e.organization.id:e.organization,l=null==a?void 0:a.slug,c=a?null==(t=null==n?void 0:n.organizationMemberships)?void 0:t.find(e=>e.organization.id===u):a,h=c?c.permissions:c;return{userId:r,user:n,sessionId:i,session:s,organization:a,orgId:u,orgRole:c?c.role:c,orgSlug:l,orgPermissions:h,actor:o,lastOrganizationInvitation:e.lastOrganizationInvitation,lastOrganizationMember:e.lastOrganizationMember}};var et=r(554);let er=()=>{},en=er(),ei=Object,es=e=>e===en,eo=e=>"function"==typeof e,ea=(e,t)=>({...e,...t}),eu=e=>eo(e.then),el=new WeakMap,ec=0,eh=e=>{let t,r;let n=typeof e,i=e&&e.constructor,s=i==Date;if(ei(e)!==e||s||i==RegExp)t=s?e.toJSON():"symbol"==n?e.toString():"string"==n?JSON.stringify(e):""+e;else{if(t=el.get(e))return t;if(t=++ec+"~",el.set(e,t),i==Array){for(r=0,t="@";r<e.length;r++)t+=eh(e[r])+",";el.set(e,t)}if(i==ei){t="#";let n=ei.keys(e).sort();for(;!es(r=n.pop());)es(e[r])||(t+=r+":"+eh(e[r])+",");el.set(e,t)}}return t},ed=new WeakMap,ef={},ep={},eg="undefined",em=typeof window!=eg,ey=typeof document!=eg,ev=()=>em&&typeof window.requestAnimationFrame!=eg,ek=(e,t)=>{let r=ed.get(e);return[()=>!es(t)&&e.get(t)||ef,n=>{if(!es(t)){let i=e.get(t);t in ep||(ep[t]=i),r[5](t,ea(i,n),i||ef)}},r[6],()=>!es(t)&&t in ep?ep[t]:!es(t)&&e.get(t)||ef]},ew=!0,[eb,eS]=em&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[er,er],eC={initFocus:e=>(ey&&document.addEventListener("visibilitychange",e),eb("focus",e),()=>{ey&&document.removeEventListener("visibilitychange",e),eS("focus",e)}),initReconnect:e=>{let t=()=>{ew=!0,e()},r=()=>{ew=!1};return eb("online",t),eb("offline",r),()=>{eS("online",t),eS("offline",r)}}},eO=!S.useId,eE=!em||"Deno"in window,eR=e=>ev()?window.requestAnimationFrame(e):setTimeout(e,1),eA=eE?S.useEffect:S.useLayoutEffect,eP="undefined"!=typeof navigator&&navigator.connection,ej=!eE&&eP&&(["slow-2g","2g"].includes(eP.effectiveType)||eP.saveData),eT=e=>{if(eo(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?eh(e):"",t]},e_=0,eM=()=>++e_;var eI={ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function eq(...e){let[t,r,n,i]=e,s=ea({populateCache:!0,throwOnError:!0},"boolean"==typeof i?{revalidate:i}:i||{}),o=s.populateCache,a=s.rollbackOnError,u=s.optimisticData,l=!1!==s.revalidate,c=e=>"function"==typeof a?a(e):!1!==a,h=s.throwOnError;if(eo(r)){let e=[];for(let n of t.keys())!/^\$(inf|sub)\$/.test(n)&&r(t.get(n)._k)&&e.push(n);return Promise.all(e.map(d))}return d(r);async function d(r){let i;let[s]=eT(r);if(!s)return;let[a,d]=ek(t,s),[f,p,g,m]=ed.get(t),y=f[s],v=()=>l&&(delete g[s],delete m[s],y&&y[0])?y[0](2).then(()=>a().data):a().data;if(e.length<3)return v();let k=n,w=eM();p[s]=[w,0];let b=!es(u),S=a(),C=S.data,O=S._c,E=es(O)?C:O;if(b&&d({data:u=eo(u)?u(E,C):u,_c:E}),eo(k))try{k=k(E)}catch(e){i=e}if(k&&eu(k)){if(k=await k.catch(e=>{i=e}),w!==p[s][0]){if(i)throw i;return k}i&&b&&c(i)&&(o=!0,d({data:k=E,_c:en}))}o&&!i&&(eo(o)&&(k=o(k,E)),d({data:k,error:en,_c:en})),p[s][1]=eM();let R=await v();if(d({_c:en}),i){if(h)throw i;return}return o?R:k}}let ex=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},eU=(e,t)=>{if(!ed.has(e)){let r=ea(eC,t),n={},i=eq.bind(en,e),s=er,o={},a=(e,t)=>{let r=o[e]||[];return o[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},u=(t,r,n)=>{e.set(t,r);let i=o[t];if(i)for(let e of i)e(r,n)},l=()=>{if(!ed.has(e)&&(ed.set(e,[n,{},{},{},i,u,a]),!eE)){let t=r.initFocus(setTimeout.bind(en,ex.bind(en,n,0))),i=r.initReconnect(setTimeout.bind(en,ex.bind(en,n,1)));s=()=>{t&&t(),i&&i(),ed.delete(e)}}};return l(),[e,i,l,s]}return[e,ed.get(e)[4]]},[eL,e$]=eU(new Map),ez=ea({onLoadingSlow:er,onSuccess:er,onError:er,onErrorRetry:(e,t,r,n,i)=>{let s=r.errorRetryCount,o=i.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*r.errorRetryInterval;(es(s)||!(o>s))&&setTimeout(n,a,i)},onDiscarded:er,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ej?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:ej?5e3:3e3,compare:(e,t)=>eh(e)==eh(t),isPaused:()=>!1,cache:eL,mutate:e$,fallback:{}},{isOnline:()=>ew,isVisible:()=>{let e=ey&&document.visibilityState;return es(e)||"hidden"!==e}}),eV=(e,t)=>{let r=ea(e,t);if(t){let{use:n,fallback:i}=e,{use:s,fallback:o}=t;n&&s&&(r.use=n.concat(s)),i&&o&&(r.fallback=ea(i,o))}return r},eN=(0,S.createContext)({}),eQ=em&&window.__SWR_DEVTOOLS_USE__,eD=eQ?window.__SWR_DEVTOOLS_USE__:[],eF=e=>eo(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],eB=()=>ea(ez,(0,S.useContext)(eN)),eW=(e,t)=>{let[r,n]=eT(e),[,,,i]=ed.get(eL);if(i[r])return i[r];let s=t(n);return i[r]=s,s},eJ=eD.concat(e=>(t,r,n)=>{let i=r&&((...e)=>{let[n]=eT(t),[,,,i]=ed.get(eL),s=i[n];return es(s)?r(...e):(delete i[n],s)});return e(t,i,n)}),eG=(e,t,r)=>{let n=t[e]||(t[e]=[]);return n.push(r),()=>{let e=n.indexOf(r);e>=0&&(n[e]=n[n.length-1],n.pop())}};eQ&&(window.__SWR_DEVTOOLS_REACT__=S);let eK=e=>eT(e)[0],eH=S.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),eY={dedupe:!0},eX=ei.defineProperty(e=>{let{value:t}=e,r=(0,S.useContext)(eN),n=eo(t),i=(0,S.useMemo)(()=>n?t(r):t,[n,r,t]),s=(0,S.useMemo)(()=>n?i:eV(r,i),[n,r,i]),o=i&&i.provider,a=(0,S.useRef)(en);o&&!a.current&&(a.current=eU(o(s.cache||eL),i));let u=a.current;return u&&(s.cache=u[0],s.mutate=u[1]),eA(()=>{if(u)return u[2]&&u[2](),u[3]},[]),(0,S.createElement)(eN.Provider,ea(e,{value:s}))},"defaultValue",{value:ez}),eZ=(n=(e,t,r)=>{let{cache:n,compare:i,suspense:s,fallbackData:o,revalidateOnMount:a,revalidateIfStale:u,refreshInterval:l,refreshWhenHidden:c,refreshWhenOffline:h,keepPreviousData:d}=r,[f,p,g,m]=ed.get(n),[y,v]=eT(e),k=(0,S.useRef)(!1),w=(0,S.useRef)(!1),b=(0,S.useRef)(y),C=(0,S.useRef)(t),O=(0,S.useRef)(r),E=()=>O.current,R=()=>E().isVisible()&&E().isOnline(),[A,P,j,T]=ek(n,y),_=(0,S.useRef)({}).current,M=es(o)?r.fallback[y]:o,I=(e,t)=>{for(let r in _)if("data"===r){if(!i(e[r],t[r])&&(!es(e[r])||!i(Q,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},q=(0,S.useMemo)(()=>{let e=!!y&&!!t&&(es(a)?!E().isPaused()&&!s&&(!!es(u)||u):a),r=t=>{let r=ea(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},n=A(),i=T(),o=r(n),l=n===i?o:r(i),c=o;return[()=>{let e=r(A());return I(e,c)?(c.data=e.data,c.isLoading=e.isLoading,c.isValidating=e.isValidating,c.error=e.error,c):(c=e,e)},()=>l]},[n,y]),x=(0,et.useSyncExternalStore)((0,S.useCallback)(e=>j(y,(t,r)=>{I(r,t)||e()}),[n,y]),q[0],q[1]),U=!k.current,L=f[y]&&f[y].length>0,$=x.data,z=es($)?M:$,V=x.error,N=(0,S.useRef)(z),Q=d?es($)?N.current:$:z,D=(!L||!!es(V))&&(U&&!es(a)?a:!E().isPaused()&&(s?!es(z)&&u:es(z)||u)),F=!!(y&&t&&U&&D),B=es(x.isValidating)?F:x.isValidating,W=es(x.isLoading)?F:x.isLoading,J=(0,S.useCallback)(async e=>{let t,n;let s=C.current;if(!y||!s||w.current||E().isPaused())return!1;let o=!0,a=e||{},u=!g[y]||!a.dedupe,l=()=>eO?!w.current&&y===b.current&&k.current:y===b.current,c={isValidating:!1,isLoading:!1},h=()=>{P(c)},d=()=>{let e=g[y];e&&e[1]===n&&delete g[y]},m={isValidating:!0};es(A().data)&&(m.isLoading=!0);try{if(u&&(P(m),r.loadingTimeout&&es(A().data)&&setTimeout(()=>{o&&l()&&E().onLoadingSlow(y,r)},r.loadingTimeout),g[y]=[s(v),eM()]),[t,n]=g[y],t=await t,u&&setTimeout(d,r.dedupingInterval),!g[y]||g[y][1]!==n)return u&&l()&&E().onDiscarded(y),!1;c.error=en;let e=p[y];if(!es(e)&&(n<=e[0]||n<=e[1]||0===e[1]))return h(),u&&l()&&E().onDiscarded(y),!1;let a=A().data;c.data=i(a,t)?a:t,u&&l()&&E().onSuccess(t,y,r)}catch(r){d();let e=E(),{shouldRetryOnError:t}=e;!e.isPaused()&&(c.error=r,u&&l()&&(e.onError(r,y,e),(!0===t||eo(t)&&t(r))&&R()&&e.onErrorRetry(r,y,e,e=>{let t=f[y];t&&t[0]&&t[0](eI.ERROR_REVALIDATE_EVENT,e)},{retryCount:(a.retryCount||0)+1,dedupe:!0})))}return o=!1,h(),!0},[y,n]),G=(0,S.useCallback)((...e)=>eq(n,b.current,...e),[]);if(eA(()=>{C.current=t,O.current=r,es($)||(N.current=$)}),eA(()=>{if(!y)return;let e=J.bind(en,eY),t=0,r=eG(y,f,(r,n={})=>{if(r==eI.FOCUS_EVENT){let r=Date.now();E().revalidateOnFocus&&r>t&&R()&&(t=r+E().focusThrottleInterval,e())}else if(r==eI.RECONNECT_EVENT)E().revalidateOnReconnect&&R()&&e();else if(r==eI.MUTATE_EVENT)return J();else if(r==eI.ERROR_REVALIDATE_EVENT)return J(n)});return w.current=!1,b.current=y,k.current=!0,P({_k:v}),D&&(es(z)||eE?e():eR(e)),()=>{w.current=!0,r()}},[y]),eA(()=>{let e;function t(){let t=eo(l)?l(A().data):l;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!A().error&&(c||E().isVisible())&&(h||E().isOnline())?J(eY).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[l,c,h,y]),(0,S.useDebugValue)(Q),s&&es(z)&&y){if(!eO&&eE)throw Error("Fallback data is required when using suspense in SSR.");C.current=t,O.current=r,w.current=!1;let e=m[y];if(es(e)||eH(G(e)),es(V)){let e=J(eY);es(Q)||(e.status="fulfilled",e.value=!0),eH(e)}else throw V}return{mutate:G,get data(){return _.data=!0,Q},get error(){return _.error=!0,V},get isValidating(){return _.isValidating=!0,B},get isLoading(){return _.isLoading=!0,W}}},function(...e){let t=eB(),[r,i,s]=eF(e),o=eV(t,s),a=n,{use:u}=o,l=(u||[]).concat(eJ);for(let e=l.length;e--;)a=l[e](a);return a(r,i||o.fetcher||null,o)}),e0=e=>eT(e?e(0,null):null)[0],e1=Promise.resolve(),e2=(i=e=>(t,r,n)=>{let i;let s=(0,S.useRef)(!1),{cache:o,initialSize:a=1,revalidateAll:u=!1,persistSize:l=!1,revalidateFirstPage:c=!0,revalidateOnMount:h=!1,parallel:d=!1}=n;try{(i=e0(t))&&(i="$inf$"+i)}catch(e){}let[f,p,g]=ek(o,i),m=(0,S.useCallback)(()=>es(f()._l)?a:f()._l,[o,i,a]);(0,et.useSyncExternalStore)((0,S.useCallback)(e=>i?g(i,()=>{e()}):()=>{},[o,i]),m,m);let y=(0,S.useCallback)(()=>{let e=f()._l;return es(e)?a:e},[i,a]),v=(0,S.useRef)(y());eA(()=>{if(!s.current){s.current=!0;return}i&&p({_l:l?v.current:y()})},[i,o]);let k=h&&!s.current,w=e(i,async e=>{let i=f()._i,s=[],a=y(),[l]=ek(o,e),h=l().data,g=[],m=null;for(let e=0;e<a;++e){let[a,l]=eT(t(e,d?null:m));if(!a)break;let[f,p]=ek(o,a),y=f().data,v=u||i||es(y)||c&&!e&&!es(h)||k||h&&!es(h[e])&&!n.compare(h[e],y);if(r&&v){let t=async()=>{p({data:y=await r(l),_k:l}),s[e]=y};d?g.push(t):await t()}else s[e]=y;d||(m=y)}return d&&await Promise.all(g.map(e=>e())),p({_i:en}),s},n),b=(0,S.useCallback)(function(e,t){let r="boolean"==typeof t?{revalidate:t}:t||{},n=!1!==r.revalidate;return i?(n&&(es(e)?p({_i:!0}):p({_i:!1})),arguments.length?w.mutate(e,{...r,revalidate:n}):w.mutate()):e1},[i,o]),C=(0,S.useCallback)(e=>{let r;if(!i)return e1;let[,n]=ek(o,i);if(eo(e)?r=e(y()):"number"==typeof e&&(r=e),"number"!=typeof r)return e1;n({_l:r}),v.current=r;let s=[],[a]=ek(o,i),u=null;for(let e=0;e<r;++e){let[r]=eT(t(e,u)),[n]=ek(o,r),i=r?n().data:en;if(es(i))return b(a().data);s.push(i),u=i}return b(s)},[i,o,b,y]);return{size:y(),setSize:C,mutate:b,get data(){return w.data},get error(){return w.error},get isValidating(){return w.isValidating},get isLoading(){return w.isLoading}}},(...e)=>{let[t,r,n]=eF(e),s=(n.use||[]).concat(i);return eZ(t,r,{...n,use:s})});function e4(e,t){if(!e)throw"string"==typeof t?Error(t):Error(`${t.displayName} not found`)}var e6=(e,t)=>{let{assertCtxFn:r=e4}=t||{},n=S.createContext(void 0);return n.displayName=e,[n,()=>{let t=S.useContext(n);return r(t,`${e} not found`),t.value},()=>{let e=S.useContext(n);return e?e.value:{}}]},e8={};((e,t)=>{for(var r in t)y(e,r,{get:t[r],enumerable:!0})})(e8,{SWRConfig:()=>eX,useSWR:()=>eZ,useSWRInfinite:()=>e2}),b(e8,d,"default"),s&&b(s,d,"default");var[e5,e3]=e6("ClerkInstanceContext"),[e7,e9]=e6("UserContext"),[te,tt]=e6("ClientContext"),[tr,tn]=e6("SessionContext"),[ti,ts]=e6("OrganizationContext"),to=({children:e,organization:t,lastOrganizationMember:r,lastOrganizationInvitation:n,swrConfig:i})=>S.createElement(eX,{value:i},S.createElement(ti.Provider,{value:{value:{organization:t,lastOrganizationMember:r,lastOrganizationInvitation:n}}},e));"undefined"!=typeof window?S.useLayoutEffect:S.useEffect;let[ta,tu]=e6("AuthContext"),[tl,tc]=[e5,e3];function th(e){let{isomorphicClerkOptions:t,initialState:r,children:n}=e,{isomorphicClerk:i,loaded:s}=td(t);t.frontendApi&&A("frontendApi","Use `publishableKey` instead.");let[o,a]=S.useState({client:i.client,session:i.session,user:i.user,organization:i.organization,lastOrganizationInvitation:null,lastOrganizationMember:null});S.useEffect(()=>i.addListener(e=>a({...e})),[]);let u=X(s,o,r),l=S.useMemo(()=>({value:i}),[s]),c=S.useMemo(()=>({value:o.client}),[o.client]),{sessionId:h,session:d,userId:f,user:p,orgId:g,actor:m,lastOrganizationInvitation:y,lastOrganizationMember:v,organization:k,orgRole:w,orgSlug:b,orgPermissions:C}=u,O=S.useMemo(()=>({value:{sessionId:h,userId:f,actor:m,orgId:g,orgRole:w,orgSlug:b,orgPermissions:C}}),[h,f,m,g,w,b]),E=S.useMemo(()=>({value:p}),[f,p]),R=S.useMemo(()=>({value:d}),[h,d]),P=S.useMemo(()=>({value:{organization:k,lastOrganizationInvitation:y,lastOrganizationMember:v}}),[g,k,y,v]);return S.createElement(tl.Provider,{value:l},S.createElement(te.Provider,{value:c},S.createElement(tr.Provider,{value:R},S.createElement(to,{...P.value},S.createElement(ta.Provider,{value:O},S.createElement(e7.Provider,{value:E},n))))))}let td=e=>{let[t,r]=S.useState(!1),n=S.useMemo(()=>Y.getOrCreateInstance(e),[]);return S.useEffect(()=>{n.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),S.useEffect(()=>{n.__unstable__updateProps({options:e})},[e.localization]),S.useEffect(()=>{n.addOnLoaded(()=>r(!0))},[]),S.useEffect(()=>()=>{Y.clearInstance()},[]),{isomorphicClerk:n,loaded:t}},tf=Object.freeze({noGuarantees:Object.freeze({guaranteedLoaded:!1}),guaranteedLoaded:Object.freeze({guaranteedLoaded:!0})}),tp=S.createContext(void 0);tp.displayName="StructureContext";let tg=()=>{let e=S.useContext(tp);return!function(e){if(!e)throw Error("Clerk: You must wrap your application in a <ClerkProvider> component.")}(e),e},tm=({children:e})=>tg().guaranteedLoaded?S.createElement(S.Fragment,null,e):S.createElement(tp.Provider,{value:tf.guaranteedLoaded},e);!function(e){q.setMessages(e).setPackageName(e)}({packageName:"@clerk/clerk-react"});let ty=function(e,t,r){let n=e.displayName||e.name||t||"Component",i=n=>(!function(e,t,r=1){S.useEffect(()=>{let n=x.get(e)||0;if(n==r)throw Error(t);return x.set(e,n+1),()=>{x.set(e,(x.get(e)||1)-1)}},[])}(t,r),S.createElement(e,{...n}));return i.displayName=`withMaxAllowedInstancesGuard(${n})`,i}(function(e){let{initialState:t,children:r,...n}=e,{frontendApi:i="",publishableKey:s="",Clerk:o}=n;return!o&&(s||i?s&&!m(s)?q.throwInvalidPublishableKeyError({key:s}):s||!i||(i||"").startsWith("clerk.")||q.throwInvalidFrontendApiError({key:i}):q.throwMissingPublishableKeyError()),S.createElement(tp.Provider,{value:tf.noGuarantees},S.createElement(th,{initialState:t,isomorphicClerkOptions:n},r))},"ClerkProvider","Clerk: You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.");ty.displayName="ClerkProvider";var tv=e=>{let t=r=>{if(!r)return r;if(Array.isArray(r))return r.map(e=>"object"==typeof e||Array.isArray(e)?t(e):e);let n={...r};for(let r of Object.keys(n)){let i=e(r.toString());i!==r&&(n[i]=n[r],delete n[r]),"object"==typeof n[i]&&(n[i]=t(n[i]))}return n};return t};tv(function(e){return e?e.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`):""}),tv(function(e){return e?e.replace(/([-_][a-z])/g,e=>e.toUpperCase().replace(/-|_/,"")):""}),Object.freeze({"image/png":"png","image/jpeg":"jpg","image/gif":"gif","image/webp":"webp","image/x-icon":"ico","image/vnd.microsoft.icon":"ico"});var tk=e=>{C()&&console.error(e)},tw=r(4887);let tb=e=>{let t=Array(e.length).fill(null),[r,n]=(0,S.useState)(t);return e.map((e,t)=>({id:e.id,mount:e=>n(r=>r.map((r,n)=>n===t?e:r)),unmount:()=>n(e=>e.map((e,r)=>r===t?null:e)),portal:()=>S.createElement(S.Fragment,null,r[t]?(0,tw.createPortal)(e.component,r[t]):null)}))},tS=(e,t)=>!!e&&S.isValidElement(e)&&(null==e?void 0:e.type)===t,tC=e=>tE({children:e,reorderItemsLabels:["account","security"],LinkComponent:tM,PageComponent:t_,componentName:"UserProfile"}),tO=e=>tE({children:e,reorderItemsLabels:["members","settings"],LinkComponent:tx,PageComponent:tq,componentName:"OrganizationProfile"}),tE=({children:e,LinkComponent:t,PageComponent:r,reorderItemsLabels:n,componentName:i})=>{let s=[];S.Children.forEach(e,e=>{if(!tS(e,r)&&!tS(e,t)){e&&tk(_(i));return}let{props:o}=e,{children:a,label:u,url:l,labelIcon:c}=o;if(tS(e,r)){if(tR(o,n))s.push({label:u});else if(tA(o))s.push({label:u,labelIcon:c,children:a,url:l});else{tk(M(i));return}}if(tS(e,t)){if(tP(o))s.push({label:u,labelIcon:c,url:l});else{tk(I(i));return}}});let o=[],a=[],u=[];s.forEach((e,t)=>{if(tA(e)){o.push({component:e.children,id:t}),a.push({component:e.labelIcon,id:t});return}tP(e)&&u.push({component:e.labelIcon,id:t})});let l=tb(o),c=tb(a),h=tb(u),d=[],f=[];return s.forEach((e,t)=>{if(tR(e,n)){d.push({label:e.label});return}if(tA(e)){let{portal:r,mount:n,unmount:i}=l.find(e=>e.id===t),{portal:s,mount:o,unmount:a}=c.find(e=>e.id===t);d.push({label:e.label,url:e.url,mount:n,unmount:i,mountIcon:o,unmountIcon:a}),f.push(r),f.push(s);return}if(tP(e)){let{portal:r,mount:n,unmount:i}=h.find(e=>e.id===t);d.push({label:e.label,url:e.url,mountIcon:n,unmountIcon:i}),f.push(r);return}}),{customPages:d,customPagesPortals:f}},tR=(e,t)=>{let{children:r,label:n,url:i,labelIcon:s}=e;return!r&&!i&&!s&&t.some(e=>e===n)},tA=e=>{let{children:t,label:r,url:n,labelIcon:i}=e;return!!t&&!!n&&!!i&&!!r},tP=e=>{let{children:t,label:r,url:n,labelIcon:i}=e;return!t&&!!n&&!!i&&!!r},tj=(e,t)=>{t=t||e.displayName||e.name||"Component",e.displayName=t;let r=t=>{let r=tc();return r.loaded?S.createElement(tm,null,S.createElement(e,{...t,clerk:r})):null};return r.displayName=`withClerk(${t})`,r};class tT extends S.PureComponent{constructor(){super(...arguments),this.portalRef=S.createRef()}componentDidUpdate(e){var t,r,n,i;(e.props.appearance!==this.props.props.appearance||(null==(r=null==(t=e.props)?void 0:t.customPages)?void 0:r.length)!==(null==(i=null==(n=this.props.props)?void 0:n.customPages)?void 0:i.length))&&this.props.updateProps({node:this.portalRef.current,props:this.props.props})}componentDidMount(){this.portalRef.current&&this.props.mount(this.portalRef.current,this.props.props)}componentWillUnmount(){this.portalRef.current&&this.props.unmount(this.portalRef.current)}render(){var e,t;return S.createElement(S.Fragment,null,S.createElement("div",{ref:this.portalRef}),null==(t=null==(e=this.props)?void 0:e.customPagesPortals)?void 0:t.map((e,t)=>(0,S.createElement)(e,{key:t})))}}function t_({children:e}){return tk("Clerk: <UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`."),S.createElement(S.Fragment,null,e)}function tM({children:e}){return tk("Clerk: <UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`."),S.createElement(S.Fragment,null,e)}tj(({clerk:e,...t})=>S.createElement(tT,{mount:e.mountSignIn,unmount:e.unmountSignIn,updateProps:e.__unstable__updateProps,props:t}),"SignIn"),tj(({clerk:e,...t})=>S.createElement(tT,{mount:e.mountSignUp,unmount:e.unmountSignUp,updateProps:e.__unstable__updateProps,props:t}),"SignUp"),Object.assign(tj(({clerk:e,...t})=>{let{customPages:r,customPagesPortals:n}=tC(t.children);return S.createElement(tT,{mount:e.mountUserProfile,unmount:e.unmountUserProfile,updateProps:e.__unstable__updateProps,props:{...t,customPages:r},customPagesPortals:n})},"UserProfile"),{Page:t_,Link:tM});let tI=Object.assign(tj(({clerk:e,...t})=>{let{customPages:r,customPagesPortals:n}=tC(t.children),i=Object.assign(t.userProfileProps||{},{customPages:r});return S.createElement(tT,{mount:e.mountUserButton,unmount:e.unmountUserButton,updateProps:e.__unstable__updateProps,props:{...t,userProfileProps:i},customPagesPortals:n})},"UserButton"),{UserProfilePage:t_,UserProfileLink:tM});function tq({children:e}){return tk("Clerk: <OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`."),S.createElement(S.Fragment,null,e)}function tx({children:e}){return tk("Clerk: <OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`."),S.createElement(S.Fragment,null,e)}Object.assign(tj(({clerk:e,...t})=>{let{customPages:r,customPagesPortals:n}=tO(t.children);return S.createElement(tT,{mount:e.mountOrganizationProfile,unmount:e.unmountOrganizationProfile,updateProps:e.__unstable__updateProps,props:{...t,customPages:r},customPagesPortals:n})},"OrganizationProfile"),{Page:tq,Link:tx}),tj(({clerk:e,...t})=>S.createElement(tT,{mount:e.mountCreateOrganization,unmount:e.unmountCreateOrganization,updateProps:e.__unstable__updateProps,props:t}),"CreateOrganization"),Object.assign(tj(({clerk:e,...t})=>{let{customPages:r,customPagesPortals:n}=tO(t.children),i=Object.assign(t.organizationProfileProps||{},{customPages:r});return S.createElement(tT,{mount:e.mountOrganizationSwitcher,unmount:e.unmountOrganizationSwitcher,updateProps:e.__unstable__updateProps,props:{...t,organizationProfileProps:i},customPagesPortals:n})},"OrganizationSwitcher"),{OrganizationProfilePage:tq,OrganizationProfileLink:tx}),tj(({clerk:e,...t})=>S.createElement(tT,{mount:e.mountOrganizationList,unmount:e.unmountOrganizationList,updateProps:e.__unstable__updateProps,props:t}),"OrganizationList"),tj(({clerk:e,...t})=>S.createElement(tT,{mount:e.__experimental_mountGoogleOneTap,unmount:e.__experimental_unmountGoogleOneTap,updateProps:e.__unstable__updateProps,props:t}),"OneTap");let tU=e=>t=>{try{return S.Children.only(e)}catch(e){throw Error(j(t))}},tL=(e,t)=>(e||(e=t),"string"==typeof e&&(e=S.createElement("button",null,e)),e),t$=e=>(...t)=>{if(e&&"function"==typeof e)return e(...t)},tz=tj(({clerk:e,children:t,...r})=>{let{afterSignInUrl:n,afterSignUpUrl:i,redirectUrl:s,mode:o,...a}=r,u=tU(t=tL(t,"Sign in"))("SignInButton"),l=()=>{let t={afterSignInUrl:n,afterSignUpUrl:i,redirectUrl:s};return"modal"===o?e.openSignIn(t):e.redirectToSignIn(t)},c=async e=>(await t$(u.props.onClick)(e),l()),h={...a,onClick:c};return S.cloneElement(u,h)},"SignInButton"),tV=tj(({clerk:e,children:t,...r})=>{let{signOutCallback:n,signOutOptions:i,...s}=r,o=tU(t=tL(t,"Sign out"))("SignOutButton"),a=()=>e.signOut(n,i),u=async e=>(await t$(o.props.onClick)(e),a()),l={...s,onClick:u};return S.cloneElement(o,l)},"SignOutButton");function tN(){let e=e9();return void 0===e?{isLoaded:!1,isSignedIn:void 0,user:void 0}:null===e?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:e}}let tQ=e=>new Promise(t=>{e.loaded&&t(),e.addOnLoaded(t)}),tD=e=>async t=>(await tQ(e),e.session)?e.session.getToken(t):null,tF=e=>async(...t)=>(await tQ(e),e.signOut(...t)),tB=()=>{let{sessionId:e,userId:t,actor:r,orgId:n,orgRole:i,orgSlug:s,orgPermissions:o}=tu(),a=tc(),u=(0,S.useCallback)(tD(a),[a]),l=(0,S.useCallback)(tF(a),[a]),c=(0,S.useCallback)(e=>{if(!(null==e?void 0:e.permission)&&!(null==e?void 0:e.role))throw Error('Clerk: Missing parameters. `has` from `useAuth` requires a permission or role key to be passed. Example usage: `has({permission: "org:posts:edit"`');return!!n&&!!t&&!!i&&!!o&&(e.permission?o.includes(e.permission):!!e.role&&i===e.role)},[n,i,t,o]);if(void 0===e&&void 0===t)return{isLoaded:!1,isSignedIn:void 0,sessionId:e,userId:t,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:l,getToken:u};if(null===e&&null===t)return{isLoaded:!0,isSignedIn:!1,sessionId:e,userId:t,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:l,getToken:u};if(e&&t&&n&&i)return{isLoaded:!0,isSignedIn:!0,sessionId:e,userId:t,actor:r||null,orgId:n,orgRole:i,orgSlug:s||null,has:c,signOut:l,getToken:u};if(e&&t&&!n)return{isLoaded:!0,isSignedIn:!0,sessionId:e,userId:t,actor:r||null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:l,getToken:u};throw Error("Clerk: Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support")}},1143:function(e,t,r){"undefined"==typeof window||window.global||(window.global=void 0===r.g?window:r.g)},4492:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useState,o=n.useEffect,a=n.useLayoutEffect,u=n.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=s({inst:{value:r,getSnapshot:t}}),i=n[0].inst,c=n[1];return a(function(){i.value=r,i.getSnapshot=t,l(i)&&c({inst:i})},[e,r,t]),o(function(){return l(i)&&c({inst:i}),e(function(){l(i)&&c({inst:i})})},[e]),u(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},554:function(e,t,r){"use strict";e.exports=r(4492)},764:function(e,t,r){"use strict";function n(e){if(void 0===e)return{};if(!s(e))throw Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function i(e){if(void 0===e)throw Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if("string"!=typeof e)throw Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);if(-1===e.indexOf("127.0.0.1")&&-1===e.indexOf("localhost")&&!e.endsWith(".convex.cloud")&&!e.includes("0.0.0.0"))throw Error(`Invalid deployment address: Must end with ".convex.cloud". Found "${e}".`)}function s(e){let t="object"==typeof e,r=Object.getPrototypeOf(e),n=null===r||r===Object.prototype||r?.constructor?.name==="Object";return t&&n}r.d(t,{Op:function(){return n},a0:function(){return i},pP:function(){return s}})},249:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});let n="1.11.2"},2099:function(e,t,r){"use strict";r.d(t,{m:function(){return o},n:function(){return a}});var n=r(2265),i=r(4027);let s=(0,n.createContext)(void 0);function o(){let e=(0,n.useContext)(s);if(void 0===e)throw Error("Could not find `ConvexProviderWithAuth` (or `ConvexProviderWithClerk` or `ConvexProviderWithAuth0`) as an ancestor component. This component may be missing, or you might have two instances of the `convex/react` module loaded in your project.");return e}function a({children:e,client:t,useAuth:r}){let{isLoading:o,isAuthenticated:a,fetchAccessToken:u}=r(),[l,c]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=!0;async function r(){t.setAuth(u,t=>{e&&c(t)})}if(a)return r(),()=>{e=!1,c(e=>!e&&null),t.clearAuth()}},[a,u,o,t]),o&&null!==l&&c(null),o||a||!1===l||c(!1),n.createElement(s.Provider,{value:{isLoading:null===l,isAuthenticated:a&&(l??!1)}},n.createElement(i.P9,{client:t},e))}},4027:function(e,t,r){"use strict";r.d(t,{P9:function(){return V},Zj:function(){return L},CC:function(){return z},Db:function(){return Q},aM:function(){return N}});var n=r(249),i=r(6284);function s(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}function o(e,t,r,n){let i=s(t);if("object"==typeof n&&(n=`ConvexError ${JSON.stringify(n.errorData,null,2)}`),"info"===e){let e=n.match(/^\[.*?\] /);if(null===e){console.error(`[CONVEX ${i}(${r})] Could not parse console.log`);return}let t=n.slice(1,e[0].length-2);console.log(`%c[CONVEX ${i}(${r})] [${t}]`,"color:rgb(0, 145, 255)",n.slice(e[0].length))}else console.error(`[CONVEX ${i}(${r})] ${n}`)}function a(e,t,r){let n=s(e);return`[CONVEX ${n}(${t})] ${r.errorMessage}
  Called by client`}function u(e,t){return t.data=e.errorData,t}function l(e){let t,r;let n=e.split(":");return 1===n.length?(t=n[0],r="default"):(t=n.slice(0,n.length-1).join(":"),r=n[n.length-1]),t.endsWith(".js")&&(t=t.slice(0,-3)),`${t}:${r}`}function c(e,t){return JSON.stringify({udfPath:l(e),args:(0,i.D2)(t)})}class h{constructor(){this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1}hasSyncedPastLastReconnect(){return 0===this.outstandingQueriesOlderThanRestart.size&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(e,t,r){let n=l(e),s=c(n,t),o=this.querySet.get(s);if(void 0!==o)return o.numSubscribers+=1,{queryToken:s,modification:null,unsubscribe:()=>this.removeSubscriber(s)};{let e=this.nextQueryId++;this.querySet.set(s,{id:e,canonicalizedUdfPath:n,args:t,numSubscribers:1,journal:r}),this.queryIdToToken.set(e,s);let o=this.querySetVersion;return{queryToken:s,modification:{type:"ModifyQuerySet",baseVersion:o,newVersion:++this.querySetVersion,modifications:[{type:"Add",queryId:e,udfPath:n,args:[(0,i.D2)(t)],journal:r}]},unsubscribe:()=>this.removeSubscriber(s)}}}transition(e){for(let t of e.modifications)switch(t.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(t.queryId);let e=t.journal;if(void 0!==e){let r=this.queryIdToToken.get(t.queryId);void 0!==r&&(this.querySet.get(r).journal=e)}break}case"QueryRemoved":this.outstandingQueriesOlderThanRestart.delete(t.queryId);break;default:throw Error(`Invalid modification ${t.type}`)}}queryId(e,t){let r=c(l(e),t),n=this.querySet.get(r);return void 0!==n?n.id:null}isCurrentOrNewerAuthVersion(e){return e>=this.identityVersion}setAuth(e){return this.auth={tokenType:"User",value:e},{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}}setAdminAuth(e,t){let r={tokenType:"Admin",value:e,impersonating:t};return this.auth=r,{type:"Authenticate",baseVersion:this.identityVersion++,...r}}clearAuth(){return this.auth=void 0,this.markAuthCompletion(),{type:"Authenticate",tokenType:"None",baseVersion:this.identityVersion++}}hasAuth(){return!!this.auth}isNewAuth(e){return this.auth?.value!==e}queryPath(e){let t=this.queryIdToToken.get(e);return t?this.querySet.get(t).canonicalizedUdfPath:null}queryArgs(e){let t=this.queryIdToToken.get(e);return t?this.querySet.get(t).args:null}queryToken(e){return this.queryIdToToken.get(e)??null}queryJournal(e){return this.querySet.get(e)?.journal}restart(e){this.outstandingQueriesOlderThanRestart.clear();let t=[];for(let r of this.querySet.values()){let n={type:"Add",queryId:r.id,udfPath:r.canonicalizedUdfPath,args:[(0,i.D2)(r.args)],journal:r.journal};t.push(n),e.has(r.id)||this.outstandingQueriesOlderThanRestart.add(r.id)}this.querySetVersion=1;let r={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:t};if(!this.auth)return this.identityVersion=0,[r,void 0];this.outstandingAuthOlderThanRestart=!0;let n={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[r,n]}removeSubscriber(e){let t=this.querySet.get(e);return t.numSubscribers>1?(t.numSubscribers-=1,null):(this.querySet.delete(e),this.queryIdToToken.delete(t.id),this.outstandingQueriesOlderThanRestart.delete(t.id),{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:[{type:"Remove",queryId:t.id}]})}}class d{constructor(){this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(e,t){return new Promise(r=>{this.inflightRequests.set(e.requestId,{message:e,status:{status:t?"Requested":"NotSent",requestedAt:new Date,onResult:r}})})}onResponse(e){let t;let r=this.inflightRequests.get(e.requestId);if(void 0===r||"Completed"===r.status.status)return null;let n="Mutation"===r.message.type?"mutation":"action",s=r.message.udfPath;for(let t of e.logLines)o("info",n,s,t);let a=r.status;if(e.success)t=()=>a.onResult({success:!0,logLines:e.logLines,value:(0,i.sq)(e.result)});else{let r=e.result,{errorData:u}=e;o("error",n,s,r),t=()=>a.onResult({success:!1,errorMessage:r,errorData:void 0!==u?(0,i.sq)(u):void 0,logLines:e.logLines})}return"ActionResponse"!==e.type&&e.success?(r.status={status:"Completed",ts:e.ts,onResolve:t},null):(t(),this.inflightRequests.delete(e.requestId),this.requestsOlderThanRestart.delete(e.requestId),e.requestId)}removeCompleted(e){let t=new Set;for(let[r,n]of this.inflightRequests.entries()){let i=n.status;"Completed"===i.status&&i.ts.lessThanOrEqual(e)&&(i.onResolve(),t.add(r),this.inflightRequests.delete(r),this.requestsOlderThanRestart.delete(r))}return t}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());let e=[];for(let[t,r]of this.inflightRequests){if("NotSent"===r.status.status){r.status.status="Requested",e.push(r.message);continue}if("Mutation"===r.message.type)e.push(r.message);else{if(this.inflightRequests.delete(t),this.requestsOlderThanRestart.delete(t),"Completed"===r.status.status)throw Error("Action should never be in 'Completed' state");r.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return e}hasIncompleteRequests(){for(let e of this.inflightRequests.values())if("Requested"===e.status.status)return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return 0===this.requestsOlderThanRestart.size}timeOfOldestInflightRequest(){if(0===this.inflightRequests.size)return null;let e=Date.now();for(let t of this.inflightRequests.values())"Completed"!==t.status.status&&t.status.requestedAt.getTime()<e&&(e=t.status.requestedAt.getTime());return new Date(e)}}var f=r(8948),p=r(764),g=r(8644);class m{constructor(e){this.queryResults=e,this.modifiedQueries=[]}getQuery(e,...t){let r=(0,p.Op)(t[0]),n=(0,f.$P)(e),i=this.queryResults.get(c(n,r));if(void 0!==i)return m.queryValue(i.result)}getAllQueries(e){let t=[],r=(0,f.$P)(e);for(let e of this.queryResults.values())e.udfPath===l(r)&&t.push({args:e.args,value:m.queryValue(e.result)});return t}setQuery(e,t,r){let n=(0,p.Op)(t),i=(0,f.$P)(e),s=c(i,n);this.queryResults.set(s,{udfPath:i,args:n,result:void 0===r?void 0:{success:!0,value:r,logLines:[]}}),this.modifiedQueries.push(s)}static queryValue(e){return void 0===e?void 0:e.success?e.value:void 0}}class y{constructor(){this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(e,t){this.optimisticUpdates=this.optimisticUpdates.filter(e=>!t.has(e.mutationId));let r=this.queryResults;this.queryResults=new Map(e);let n=new m(this.queryResults);for(let e of this.optimisticUpdates)e.update(n);let i=[];for(let[e,t]of this.queryResults){let n=r.get(e);(void 0===n||n.result!==t.result)&&i.push(e)}return i}applyOptimisticUpdate(e,t){this.optimisticUpdates.push({update:e,mutationId:t});let r=new m(this.queryResults);return e(r),r.modifiedQueries}queryResult(e){let t=this.queryResults.get(e);if(void 0===t)return;let r=t.result;if(void 0!==r){if(r.success)return r.value;if(void 0!==r.errorData)throw u(r,new g.P(a("query",t.udfPath,r)));throw Error(a("query",t.udfPath,r))}}hasQueryResult(e){return void 0!==this.queryResults.get(e)}queryLogs(e){let t=this.queryResults.get(e);return t?.result?.logLines}}class v{static isLong(e){return!0===(e&&e.__isUnsignedLong__)}constructor(e,t){this.low=0|e,this.high=0|t,this.__isUnsignedLong__=!0}static fromBytesLE(e){return new v(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24)}toBytesLE(){let e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]}static fromNumber(e){return isNaN(e)||e<0?k:e>=b?S:new v(e%w|0,e/w|0)}toString(){return(BigInt(this.high)*BigInt(w)+BigInt(this.low)).toString()}equals(e){return v.isLong(e)||(e=v.fromValue(e)),(this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low}notEquals(e){return!this.equals(e)}comp(e){return(v.isLong(e)||(e=v.fromValue(e)),this.equals(e))?0:e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(e){return 0>=this.comp(e)}static fromValue(e){return"number"==typeof e?v.fromNumber(e):new v(e.low,e.high)}}let k=new v(0,0),w=4294967296,b=18446744073709552e3,S=new v(-1,-1);class C{constructor(e){this.version={querySet:0,ts:v.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=e}transition(e){let t=e.startVersion;if(this.version.querySet!==t.querySet||this.version.ts.notEquals(t.ts)||this.version.identity!==t.identity)throw Error(`Invalid start version: ${t.ts.toString()}:${t.querySet}`);for(let t of e.modifications)switch(t.type){case"QueryUpdated":{let e=this.queryPath(t.queryId);if(e)for(let r of t.logLines)o("info","query",e,r);let r=(0,i.sq)(t.value??null);this.remoteQuerySet.set(t.queryId,{success:!0,value:r,logLines:t.logLines});break}case"QueryFailed":{let e=this.queryPath(t.queryId);if(e)for(let r of t.logLines)o("info","query",e,r);let{errorData:r}=t;this.remoteQuerySet.set(t.queryId,{success:!1,errorMessage:t.errorMessage,errorData:void 0!==r?(0,i.sq)(r):void 0,logLines:t.logLines});break}case"QueryRemoved":this.remoteQuerySet.delete(t.queryId);break;default:throw Error(`Invalid modification ${t.type}`)}this.version=e.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function O(e){let t=i.DS.toByteArray(e);return v.fromBytesLE(Array.from(t))}class E{constructor(e,t,r,n,i){this.webSocketConstructor=n,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.initialBackoff=100,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=3e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=e,this.onOpen=t,this.onMessage=r,this.verbose=i,this.connect()}connect(){if("stopped"===this.socket.state)return;if("disconnected"!==this.socket.state&&"paused"!==this.socket.state)throw Error("Didn't start connection from disconnected state: "+this.socket.state);let e=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.socket={state:"connecting",ws:e},this.resetServerInactivityTimeout(),e.onopen=()=>{if(this._logVerbose("begin ws.onopen"),"connecting"!==this.socket.state)throw Error("onopen called with socket not in connecting state");this.socket={state:"ready",ws:e},this.resetServerInactivityTimeout(),this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason}),"InitialConnect"!==this.lastCloseReason&&console.log("WebSocket reconnected"),this.connectionCount+=1,this.lastCloseReason=null},e.onerror=e=>{let t=e.message;console.log(`WebSocket error: ${t}`)},e.onmessage=e=>{this.resetServerInactivityTimeout();let t=function(e){switch(e.type){case"FatalError":case"AuthError":case"ActionResponse":case"Ping":return{...e};case"MutationResponse":if(e.success)return{...e,ts:O(e.ts)};return{...e};case"Transition":return{...e,startVersion:{...e.startVersion,ts:O(e.startVersion.ts)},endVersion:{...e.endVersion,ts:O(e.endVersion.ts)}}}}(JSON.parse(e.data));this._logVerbose(`received ws message with type ${t.type}`),this.onMessage(t).hasSyncedPastLastReconnect&&(this.retries=0)},e.onclose=e=>{if(this._logVerbose("begin ws.onclose"),null===this.lastCloseReason&&(this.lastCloseReason=e.reason??"OnCloseInvoked"),1e3!==e.code&&1001!==e.code&&1005!==e.code&&4040!==e.code){let t=`WebSocket closed with code ${e.code}`;e.reason&&(t+=`: ${e.reason}`),console.log(t)}this.scheduleReconnect()}}socketState(){return this.socket.state}sendMessage(e){if(this._logVerbose(`sending message with type ${e.type}`),"ready"===this.socket.state){let t=JSON.stringify(function(e){switch(e.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...e};case"Connect":if(void 0!==e.maxObservedTimestamp)return{...e,maxObservedTimestamp:function(e){let t=new Uint8Array(e.toBytesLE());return i.DS.fromByteArray(t)}(e.maxObservedTimestamp)};return{...e,maxObservedTimestamp:void 0}}}(e));try{this.socket.ws.send(t)}catch(e){console.log(`Failed to send message on WebSocket, reconnecting: ${e}`),this.closeAndReconnect("FailedToSendMessage")}return!0}return!1}resetServerInactivityTimeout(){"stopped"!==this.socket.state&&(null!==this.reconnectDueToServerInactivityTimeout&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(){this.socket={state:"disconnected"};let e=this.nextBackoff();console.log(`Attempting reconnect in ${e}ms`),setTimeout(()=>this.connect(),e)}closeAndReconnect(e){switch(this._logVerbose(`begin closeAndReconnect with reason ${e}`),this.socket.state){case"disconnected":case"stopped":case"paused":return;case"connecting":case"ready":this.lastCloseReason=e,this.close(),this.scheduleReconnect();return;default:this.socket}}close(){switch(this.socket.state){case"disconnected":case"stopped":case"paused":return Promise.resolve();case"connecting":{let e=this.socket.ws;return new Promise(t=>{e.onclose=()=>{this._logVerbose("Closed after connecting"),t()},e.onopen=()=>{this._logVerbose("Opened after connecting"),e.close()}})}case"ready":{this._logVerbose("ws.close called");let e=this.socket.ws,t=new Promise(t=>{e.onclose=()=>{t()}});return e.close(),t}default:return this.socket,Promise.resolve()}}stop(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"stopped":case"paused":case"disconnected":case"connecting":case"ready":{let e=this.close();return this.socket={state:"stopped"},e}default:throw this.socket,Error(`Invalid websocket state: ${this.socket.state}`)}}pause(){switch(this.socket.state){case"stopped":return Promise.resolve();case"connecting":case"paused":case"disconnected":case"ready":{let e=this.close();return this.socket={state:"paused"},e}default:return this.socket,Promise.resolve()}}resume(){switch(this.socket.state){case"paused":break;case"stopped":return;case"connecting":case"ready":case"disconnected":throw Error("`resume()` is only valid after `pause()`");default:this.socket}this.connect()}_logVerbose(e){this.verbose&&console.debug(`${new Date().toISOString()} ${e}`)}nextBackoff(){let e=this.initialBackoff*Math.pow(2,this.retries);this.retries+=1;let t=Math.min(e,this.maxBackoff);return t+t*(Math.random()-.5)}}function R(e){this.message=e}R.prototype=Error(),R.prototype.name="InvalidCharacterError";var A="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new R("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,i=0,s=0,o="";n=t.charAt(s++);~n&&(r=i%4?64*r+n:n,i++%4)&&(o+=String.fromCharCode(255&r>>(-2*i&6))))n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return o};function P(e){this.message=e}P.prototype=Error(),P.prototype.name="InvalidTokenError";var j=function(e,t){if("string"!=typeof e)throw new P("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(function(e){var t,r=e.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw"Illegal base64url string!"}try{return t=r,decodeURIComponent(A(t).replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return A(r)}}(e.split(".")[r]))}catch(e){throw new P("Invalid token specified: "+e.message)}};class T{constructor(e,{authenticate:t,pauseSocket:r,resumeSocket:n,clearAuth:i,verbose:s}){this.authState={state:"noAuth"},this.configVersion=0,this.syncState=e,this.authenticate=t,this.pauseSocket=r,this.resumeSocket=n,this.clearAuth=i,this.verbose=s}async setConfig(e,t){this.resetAuthState();let r=await this.fetchTokenAndGuardAgainstRace(e,{forceRefreshToken:!1});r.isFromOutdatedConfig||(r.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:e,onAuthChange:t},hasRetried:!1}),this.authenticate(r.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:e,onAuthChange:t}}),await this.refetchToken()))}onTransition(e){if(this.syncState.isCurrentOrNewerAuthVersion(e.endVersion.identity)&&!(e.endVersion.identity<=e.startVersion.identity)){if("waitingForServerConfirmationOfCachedToken"===this.authState.state){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}"waitingForServerConfirmationOfFreshToken"!==this.authState.state||(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(e){let{baseVersion:t}=e;if(null!=t){if(!this.syncState.isCurrentOrNewerAuthVersion(t+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(e);return}this.tryToReauthenticate(e)}async tryToReauthenticate(e){if("noAuth"===this.authState.state||"waitingForServerConfirmationOfFreshToken"===this.authState.state){console.error(`Failed to authenticate: "${e.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),"noAuth"!==this.authState.state&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this._logVerbose("attempting to reauthenticate"),await this.pauseSocket();let t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});if(t.isFromOutdatedConfig){await this.resumeSocket();return}t.value&&this.syncState.isNewAuth(t.value)?(this.syncState.setAuth(t.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:t.value,hadAuth:"notRefetching"===this.authState.state||"waitingForScheduledRefetch"===this.authState.state})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),await this.resumeSocket()}async refetchToken(){if("noAuth"===this.authState.state)return;this._logVerbose("refetching auth token");let e=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});e.isFromOutdatedConfig||(e.value?this.syncState.isNewAuth(e.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:e.value,config:this.authState.config}),this.authenticate(e.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)))}scheduleTokenRefetch(e){if("noAuth"===this.authState.state)return;let t=this.decodeToken(e);if(!t){console.error("Auth token is not a valid JWT, cannot refetch the token");return}let{iat:r,exp:n}=t;if(!r||!n){console.error("Auth token does not have required fields, cannot refetch the token");return}let i=(n-r-2)*1e3;if(i<=0){console.error("Auth token does not live long enough, cannot refetch the token");return}let s=setTimeout(()=>{this.refetchToken()},i);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:s,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${i}ms`)}async fetchTokenAndGuardAgainstRace(e,t){let r=++this.configVersion,n=await e(t);return this.configVersion!==r?{isFromOutdatedConfig:!0}:{isFromOutdatedConfig:!1,value:n}}stop(){this.resetAuthState(),this.configVersion++}setAndReportAuthFailed(e){e(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(e){"waitingForScheduledRefetch"===this.authState.state&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=e}decodeToken(e){try{return j(e)}catch(e){return null}}_logVerbose(e){this.verbose&&console.debug(`${new Date().toISOString()} ${e} [v${this.configVersion}]`)}}let _=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function M(e){let t=e.name.slice(6);return{name:t=t.charAt(0).toLowerCase()+t.slice(1),startTime:e.startTime}}class I{constructor(e,t,r){let i;if(this.firstMessageReceived=!1,this.mark=e=>{if(this.debug){var t;t=this.sessionId,"undefined"!=typeof performance&&performance.mark&&performance.mark(e,{detail:{sessionId:t}})}},"object"==typeof e)throw Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");(0,p.a0)(e);let s=(r={...r}).webSocketConstructor;if(!s&&"undefined"==typeof WebSocket)throw Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");s=s||WebSocket,this.verbose=r.verbose??!1,this.debug=r.reportDebugInfoToConvex??!1,this.address=e;let o=e.search("://");if(-1===o)throw Error("Provided address was not an absolute URL.");let a=e.substring(o+3),u=e.substring(0,o);if("http"===u)i="ws";else if("https"===u)i="wss";else throw Error(`Unknown parent protocol ${u}`);let l=`${i}://${a}/api/${n.i}/sync`;this.state=new h,this.remoteQuerySet=new C(e=>this.state.queryPath(e)),this.requestManager=new d,this.authenticationManager=new T(this.state,{authenticate:e=>{let t=this.state.setAuth(e);this.webSocketManager.sendMessage(t)},pauseSocket:()=>this.webSocketManager.pause(),resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()},verbose:this.verbose}),this.optimisticQueryResults=new y,this.onTransition=t,this._nextRequestId=0,this._sessionId="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});let{unsavedChangesWarning:c}=r;if("undefined"==typeof window||void 0===window.addEventListener){if(!0===c)throw Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else!1!==c&&window.addEventListener("beforeunload",e=>{if(this.requestManager.hasIncompleteRequests()){e.preventDefault();let t="Are you sure you want to leave? Your changes may not be saved.";return(e||window.event).returnValue=t,t}});this.webSocketManager=new E(l,e=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...e,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});let t=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new C(e=>this.state.queryPath(e));let[r,n]=this.state.restart(t);for(let e of(n&&this.webSocketManager.sendMessage(n),this.webSocketManager.sendMessage(r),this.requestManager.restart()))this.webSocketManager.sendMessage(e)},e=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),e.type){case"Transition":{this.observedTimestamp(e.endVersion.ts),this.authenticationManager.onTransition(e),this.remoteQuerySet.transition(e),this.state.transition(e);let t=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(t);break}case"MutationResponse":{e.success&&this.observedTimestamp(e.ts);let t=this.requestManager.onResponse(e);t&&this.notifyOnQueryResultChanges(new Set([t]));break}case"ActionResponse":this.requestManager.onResponse(e);break;case"AuthError":this.authenticationManager.onAuthError(e);break;case"FatalError":{let t=function(e){let t=`[CONVEX FATAL ERROR] ${e}`;return console.error(t),Error(t)}(e.error);throw this.webSocketManager.stop(),t}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},s,this.verbose),this.mark("convexClientConstructed")}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(e){(void 0===this.maxObservedTimestamp||this.maxObservedTimestamp.lessThanOrEqual(e))&&(this.maxObservedTimestamp=e)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(e){let t=this.remoteQuerySet.remoteQueryResults(),r=new Map;for(let[e,n]of t){let t=this.state.queryToken(e);if(null!==t){let i={result:n,udfPath:this.state.queryPath(e),args:this.state.queryArgs(e)};r.set(t,i)}}this.onTransition(this.optimisticQueryResults.ingestQueryResultsFromServer(r,e))}setAuth(e,t){this.authenticationManager.setConfig(e,t)}hasAuth(){return this.state.hasAuth()}setAdminAuth(e,t){let r=this.state.setAdminAuth(e,t);this.webSocketManager.sendMessage(r)}clearAuth(){let e=this.state.clearAuth();this.webSocketManager.sendMessage(e)}subscribe(e,t,r){let n=(0,p.Op)(t),{modification:i,queryToken:s,unsubscribe:o}=this.state.subscribe(e,n,r?.journal);return null!==i&&this.webSocketManager.sendMessage(i),{queryToken:s,unsubscribe:()=>{let e=o();e&&this.webSocketManager.sendMessage(e)}}}localQueryResult(e,t){let r=c(e,(0,p.Op)(t));return this.optimisticQueryResults.queryResult(r)}localQueryResultByToken(e){return this.optimisticQueryResults.queryResult(e)}hasLocalQueryResultByToken(e){return this.optimisticQueryResults.hasQueryResult(e)}localQueryLogs(e,t){let r=c(e,(0,p.Op)(t));return this.optimisticQueryResults.queryLogs(r)}queryJournal(e,t){let r=c(e,(0,p.Op)(t));return this.state.queryJournal(r)}connectionState(){return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:"ready"===this.webSocketManager.socketState(),timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest()}}async mutation(e,t,r){let n=await this.mutationInternal(e,t,r);if(!n.success){if(void 0!==n.errorData)throw u(n,new g.P(a("mutation",e,n)));throw Error(a("mutation",e,n))}return n.value}async mutationInternal(e,t,r){let n=(0,p.Op)(t);this.tryReportLongDisconnect();let s=this.nextRequestId;if(this._nextRequestId++,void 0!==r){let e=r.optimisticUpdate;if(void 0!==e){let t=this.optimisticQueryResults.applyOptimisticUpdate(t=>{e(t,n)},s);this.onTransition(t)}}let o={type:"Mutation",requestId:s,udfPath:e,args:[(0,i.D2)(n)]},a=this.webSocketManager.sendMessage(o);return this.requestManager.request(o,a)}async action(e,t){let r=await this.actionInternal(e,t);if(!r.success){if(void 0!==r.errorData)throw u(r,new g.P(a("action",e,r)));throw Error(a("action",e,r))}return r.value}async actionInternal(e,t){let r=(0,p.Op)(t),n=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();let s={type:"Action",requestId:n,udfPath:e,args:[(0,i.D2)(r)]},o=this.webSocketManager.sendMessage(s);return this.requestManager.request(s,o)}async close(){return this.authenticationManager.stop(),this.webSocketManager.stop()}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){let e=function(e){if("undefined"==typeof performance||!performance.getEntriesByName)return[];let t=[];for(let r of _){let n=performance.getEntriesByName(r).filter(e=>"mark"===e.entryType).filter(t=>t.detail.sessionId===e);t.push(...n)}return t.map(M)}(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:e})}}tryReportLongDisconnect(){if(!this.debug)return;let e=this.connectionState().timeOfOldestInflightRequest;null===e||Date.now()-e.getTime()<=6e4||fetch(`${this.address}/api/debug_event`,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${n.i}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(e=>{e.ok||console.warn("Analytics request failed with response:",e.body)}).catch(e=>{console.warn("Analytics response failed with error:",e)})}}var q=r(2265),x=r(4887),U=r(4747);if(void 0===q)throw Error("Required dependency 'react' not found");if(void 0===x)throw Error("Required dependency 'react-dom' not found");class L{constructor(e,t){if(this.closed=!1,"string"!=typeof e)throw Error("ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud'.");if(!e.includes("://"))throw Error("Provided address was not an absolute URL.");this.address=e,this.listeners=new Map,this.options={...t}}get sync(){if(this.closed)throw Error("ConvexReactClient has already been closed.");return this.cachedSync||(this.cachedSync=new I(this.address,e=>this.transition(e),this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity)),this.cachedSync}setAuth(e,t){if("string"==typeof e)throw Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(e,t??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(e,t){if(this.adminAuth=e,this.fakeUserIdentity=t,this.closed)throw Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(e,t)}watchQuery(e,...t){let[r,n]=t,i=(0,f.$P)(e);return{onUpdate:e=>{let{queryToken:t,unsubscribe:s}=this.sync.subscribe(i,r,n),o=this.listeners.get(t);return void 0!==o?o.add(e):this.listeners.set(t,new Set([e])),()=>{if(this.closed)return;let r=this.listeners.get(t);r.delete(e),0===r.size&&this.listeners.delete(t),s()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(i,r)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(i,r)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(i,r)}}}mutation(e,...t){let[r,n]=t,i=(0,f.$P)(e);return this.sync.mutation(i,r,n)}action(e,...t){let r=(0,f.$P)(e);return this.sync.action(r,...t)}query(e,...t){let r=this.watchQuery(e,...t),n=r.localQueryResult();return void 0!==n?n:new Promise((e,t)=>{let n=r.onUpdate(()=>{n();try{e(r.localQueryResult())}catch(e){t(e)}})})}connectionState(){return this.sync.connectionState()}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedSync){let e=this.cachedSync;this.cachedSync=void 0,await e.close()}}transition(e){x.unstable_batchedUpdates(()=>{for(let t of e){let e=this.listeners.get(t);if(e)for(let t of e)t()}})}}let $=q.createContext(void 0);function z(){return(0,q.useContext)($)}let V=({client:e,children:t})=>q.createElement($.Provider,{value:e},t);function N(e,...t){let r="skip"===t[0],n="skip"===t[0]?{}:(0,p.Op)(t[0]),s="string"==typeof e?(0,f.r8)(e):e,o=(0,f.$P)(s),a=(0,q.useMemo)(()=>r?{}:{query:{query:s,args:n}},[JSON.stringify((0,i.D2)(n)),o,r]),u=(0,U.h)(a).query;if(u instanceof Error)throw u;return u}function Q(e){let t="string"==typeof e?(0,f.r8)(e):e,r=(0,q.useContext)($);if(void 0===r)throw Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return(0,q.useMemo)(()=>(function e(t,r,n){function i(e){return function(e){if("object"==typeof e&&null!==e&&"bubbles"in e&&"persist"in e&&"isDefaultPrevented"in e)throw Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}(e),r.mutation(t,e,{optimisticUpdate:n})}return i.withOptimisticUpdate=function(i){if(void 0!==n)throw Error(`Already specified optimistic update for mutation ${(0,f.$P)(t)}`);return e(t,r,i)},i})(t,r),[r,(0,f.$P)(t)])}},4934:function(e,t,r){"use strict";r.d(t,{Zj:function(){return i.Zj},mK:function(){return n.m},Db:function(){return i.Db},aM:function(){return i.aM}}),r(2265),r(6284),r(4747),r(8948);var n=r(2099),i=r(4027);r(130)},4747:function(e,t,r){"use strict";r.d(t,{h:function(){return l}});var n=r(2265),i=r(4027),s=r(6284),o=r(8948);class a{constructor(e){this.createWatch=e,this.queries={},this.listeners=new Set}setQueries(e){for(let t of Object.keys(e)){let{query:r,args:n}=e[t];if((0,o.$P)(r),void 0===this.queries[t])this.addQuery(t,r,n);else{let e=this.queries[t];((0,o.$P)(r)!==(0,o.$P)(e.query)||JSON.stringify((0,s.D2)(n))!==JSON.stringify((0,s.D2)(e.args)))&&(this.removeQuery(t),this.addQuery(t,r,n))}}for(let t of Object.keys(this.queries))void 0===e[t]&&this.removeQuery(t)}subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}getLocalResults(e){let t={};for(let r of Object.keys(e)){let n;let{query:i,args:s}=e[r];(0,o.$P)(i);let a=this.createWatch(i,s);try{n=a.localQueryResult()}catch(e){if(e instanceof Error)n=e;else throw e}t[r]=n}return t}setCreateWatch(e){for(let t of(this.createWatch=e,Object.keys(this.queries))){let{query:e,args:r,watch:n}=this.queries[t],i=n.journal();this.removeQuery(t),this.addQuery(t,e,r,i)}}destroy(){for(let e of Object.keys(this.queries))this.removeQuery(e);this.listeners=new Set}addQuery(e,t,r,n){if(void 0!==this.queries[e])throw Error(`Tried to add a new query with identifier ${e} when it already exists.`);let i=this.createWatch(t,r,n),s=i.onUpdate(()=>this.notifyListeners());this.queries[e]={query:t,args:r,watch:i,unsubscribe:s}}removeQuery(e){let t=this.queries[e];if(void 0===t)throw Error(`No query found with identifier ${e}.`);t.unsubscribe(),delete this.queries[e]}notifyListeners(){for(let e of this.listeners)e()}}var u=r(130);function l(e){let t=(0,i.CC)();if(void 0===t)throw Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return function(e,t){let[r]=(0,n.useState)(()=>new a(t));r.createWatch!==t&&r.setCreateWatch(t),(0,n.useEffect)(()=>()=>r.destroy(),[r]);let i=(0,n.useMemo)(()=>({getCurrentValue:()=>r.getLocalResults(e),subscribe:t=>(r.setQueries(e),r.subscribe(t))}),[r,e]);return(0,u.m)(i)}(e,(0,n.useMemo)(()=>(e,r,n)=>t.watchQuery(e,r,{journal:n}),[t]))}},130:function(e,t,r){"use strict";r.d(t,{m:function(){return i}});var n=r(2265);function i({getCurrentValue:e,subscribe:t}){let[r,i]=(0,n.useState)(()=>({getCurrentValue:e,subscribe:t,value:e()})),s=r.value;return(r.getCurrentValue!==e||r.subscribe!==t)&&(s=e(),i({getCurrentValue:e,subscribe:t,value:s})),(0,n.useEffect)(()=>{let r=!1,n=()=>{r||i(r=>{if(r.getCurrentValue!==e||r.subscribe!==t)return r;let n=e();return r.value===n?r:{...r,value:n}})},s=t(n);return n(),()=>{r=!0,s()}},[e,t]),s}},8948:function(e,t,r){"use strict";r.d(t,{$P:function(){return i},qL:function(){return o},r8:function(){return s}});let n=Symbol.for("functionName");function i(e){if("string"==typeof e)return e;let t=e[n];if(!t)throw Error(`${e} is not a functionReference`);return t}function s(e){return{[n]:e}}let o=function e(t=[]){return new Proxy({},{get(r,i){if("string"==typeof i)return e([...t,i]);if(i===n){if(t.length<2){let e=["api",...t].join(".");throw Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${e}\``)}let e=t.slice(0,-1).join("/"),r=t[t.length-1];return"default"===r?e:e+":"+r}return i===Symbol.toStringTag?"FunctionReference":void 0}})}()},7508:function(e,t,r){"use strict";r.r(t),r.d(t,{byteLength:function(){return c},fromByteArray:function(){return d},toByteArray:function(){return h}});for(var n=[],i=[],s=Uint8Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=o.length;a<u;++a)n[a]=o[a],i[o.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function c(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n}function h(e){var t,r,n=l(e),o=n[0],a=n[1],u=new s((o+a)*3/4-a),c=0,h=a>0?o-4:o;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u}function d(e){for(var t,r=e.length,i=r%3,s=[],o=0,a=r-i;o<a;o+=16383)s.push(function(e,t,r){for(var i,s=[],o=t;o<r;o+=3)s.push(n[(i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}(e,o,o+16383>a?a:o+16383));return 1===i?s.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&s.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},8644:function(e,t,r){"use strict";r.d(t,{P:function(){return o}});var n,i=r(5294);let s=Symbol.for("ConvexError");class o extends Error{constructor(e){super("string"==typeof e?e:(0,i.lL)(e)),this.name="ConvexError",this[n]=!0,this.data=e}}n=s},6284:function(e,t,r){"use strict";r.d(t,{D2:function(){return n.D2},DS:function(){return i},sq:function(){return n.sq}});var n=r(5294);r(9939);var i=r(7508);r(8644)},9939:function(e,t,r){"use strict";r.d(t,{c:function(){return i},v:function(){return s}});var n=r(5294);class i{constructor(e,t){this.json=e,this.optional=t}}let s={id:e=>new i({type:"id",tableName:e},!1),null:()=>new i({type:"null"},!1),number:()=>new i({type:"number"},!1),float64:()=>new i({type:"number"},!1),bigint:()=>new i({type:"bigint"},!1),int64:()=>new i({type:"bigint"},!1),boolean:()=>new i({type:"boolean"},!1),string:()=>new i({type:"string"},!1),bytes:()=>new i({type:"bytes"},!1),literal:e=>new i({type:"literal",value:(0,n.D2)(e)},!1),array:e=>new i({type:"array",value:e.json},!1),object:e=>new i({type:"object",value:Object.fromEntries(Object.entries(e).map(([e,t])=>[e,{fieldType:t.json,optional:t.optional}]))},!1),record:(e,t)=>new i({type:"record",keys:e.json,values:{fieldType:t.json,optional:t.optional}},!1),union:(...e)=>new i({type:"union",value:e.map(e=>e.json)},!1),any:()=>new i({type:"any"},!1),optional:e=>new i(e.json,!0)}},5294:function(e,t,r){"use strict";r.d(t,{D2:function(){return v},h_:function(){return k},lL:function(){return p},sq:function(){return function e(t){if(null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t)return t;if(Array.isArray(t))return t.map(t=>e(t));if("object"!=typeof t)throw Error(`Unexpected type of ${t}`);let r=Object.entries(t);if(1===r.length){let e=r[0][0];if("$bytes"===e){if("string"!=typeof t.$bytes)throw Error(`Malformed $bytes field on ${t}`);return n.toByteArray(t.$bytes).buffer}if("$integer"===e){if("string"!=typeof t.$integer)throw Error(`Malformed $integer field on ${t}`);return d(t.$integer)}if("$float"===e){if("string"!=typeof t.$float)throw Error(`Malformed $float field on ${t}`);let e=n.toByteArray(t.$float);if(8!==e.byteLength)throw Error(`Received ${e.byteLength} bytes, expected 8 for $float`);let r=new DataView(e.buffer).getFloat64(0,!0);if(!c(r))throw Error(`Float ${r} should be encoded as a number`);return r}if("$set"===e)throw Error("Received a Set which is no longer supported as a Convex type.");if("$map"===e)throw Error("Received a Map which is no longer supported as a Convex type.")}let i={};for(let[r,n]of Object.entries(t))f(r),i[r]=e(n);return i}}});var n=r(7508),i=r(764);let s=BigInt("-9223372036854775808"),o=BigInt("9223372036854775807"),a=BigInt("0"),u=BigInt("8"),l=BigInt("256");function c(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}let h=DataView.prototype.setBigInt64?function(e){if(e<s||o<e)throw Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);let t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),n.fromByteArray(new Uint8Array(t))}:function(e){e<a&&(e-=s+s);let t=e.toString(16);t.length%2==1&&(t="0"+t);let r=new Uint8Array(new ArrayBuffer(8)),i=0;for(let n of t.match(/.{2}/g).reverse())r.set([parseInt(n,16)],i++),e>>=u;return n.fromByteArray(r)},d=DataView.prototype.getBigInt64?function(e){let t=n.toByteArray(e);if(8!==t.byteLength)throw Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}:function(e){let t=n.toByteArray(e);if(8!==t.byteLength)throw Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let r=a,i=a;for(let e of t)r+=BigInt(e)*l**i,i++;return r>o&&(r+=s+s),r};function f(e){if(e.length>1024)throw Error(`Field name ${e} exceeds maximum field name length 1024.`);if(e.startsWith("$"))throw Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r<32||r>=127)throw Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function p(e){return JSON.stringify(e,(e,t)=>void 0===t?"undefined":"bigint"==typeof t?`${t.toString()}n`:t)}function g(e,t,r,a){if(void 0===e){let e=r&&` (present at path ${r} in original object ${p(t)})`;throw Error(`undefined is not a valid Convex value${e}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(null===e)return e;if("bigint"==typeof e){if(e<s||o<e)throw Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:h(e)}}if("number"==typeof e){if(!c(e))return e;{let t=new ArrayBuffer(8);return new DataView(t).setFloat64(0,e,!0),{$float:n.fromByteArray(new Uint8Array(t))}}}if("boolean"==typeof e||"string"==typeof e)return e;if(e instanceof ArrayBuffer)return{$bytes:n.fromByteArray(new Uint8Array(e))};if(Array.isArray(e))return e.map((e,n)=>g(e,t,r+`[${n}]`,!1));if(e instanceof Set)throw Error(m(r,"Set",[...e],t));if(e instanceof Map)throw Error(m(r,"Map",[...e],t));if(!(0,i.pP)(e)){let n=e?.constructor?.name;throw Error(m(r,n?`${n} `:"",e,t))}let u={},l=Object.entries(e);for(let[e,n]of(l.sort(([e,t],[r,n])=>e===r?0:e<r?-1:1),l))void 0!==n?(f(e),u[e]=g(n,t,r+`.${e}`,!1)):a&&(f(e),u[e]=y(n,t,r+`.${e}`));return u}function m(e,t,r,n){return e?`${t}${p(r)} is not a supported Convex type (present at path ${e} in original object ${p(n)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${p(r)} is not a supported Convex type.`}function y(e,t,r){if(void 0===e)return{$undefined:null};if(void 0===t)throw Error(`Programming error. Current value is ${p(e)} but original value is undefined`);return g(e,t,r,!1)}function v(e){return g(e,e,"",!1)}function k(e){return y(e,e,"")}}}]);